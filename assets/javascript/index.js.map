{"version":3,"sources":["main.js"],"names":["anchorForId","id","anchor","document","createElement","className","href","innerHTML","title","linkifyAnchors","level","containingElement","headers","getElementsByTagName","h","length","header","appendChild","setupSidebarToggle","toggleClass","toggler","querySelector","wrapper","addEventListener","e","preventDefault","indexOf","replace","window","location","pathname","style","display","contentBlock","history","HISTORY_SUPPORT","pushState","anchorScrolls","ANCHOR_REGEX","OFFSET_HEIGHT_PX","init","scrollToCurrent","bind","body","delegateAnchors","getFixedOffset","scrollIfAnchor","pushToHistory","match","rect","anchorOffset","test","getElementById","slice","getBoundingClientRect","pageYOffset","top","scrollTo","pageXOffset","hash","elem","target","nodeName","getAttribute"],"mappings":"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","file":"index.js","sourcesContent":["var anchorForId = function (id) {\r\n    var anchor = document.createElement(\"a\");\r\n    anchor.className = \"header-link\";\r\n    anchor.href = \"#\" + id;\r\n    anchor.innerHTML = `<span class=\"sr-only\">Permalink</span><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>`;\r\n    anchor.title = \"Permalink\";\r\n    return anchor;\r\n};\r\n\r\nvar linkifyAnchors = function (level, containingElement) {\r\n    var headers = containingElement.getElementsByTagName(\"h\" + level);\r\n    for (var h = 0; h < headers.length; h++) {\r\n        var header = headers[h];\r\n\r\n        if (typeof header.id !== \"undefined\" && header.id !== \"\") {\r\n            header.className += \" header\";\r\n            header.appendChild(anchorForId(header.id));\r\n        }\r\n    }\r\n};\r\n\r\nvar setupSidebarToggle = function () {\r\n    const toggleClass = \" active\";\r\n    var toggler = document.querySelector(\"#toggler\");\r\n    var wrapper = document.querySelector(\"#wrapper\");\r\n    toggler.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n        if (wrapper.className.indexOf(toggleClass) > -1) {\r\n            wrapper.className = wrapper.className.replace(toggleClass, \"\");\r\n        } else {\r\n            wrapper.className += toggleClass;\r\n        }\r\n    });\r\n    if (window.location.pathname.indexOf(\"/software/api/runner.html\") > -1) {\r\n        toggler.style.display = 'none';\r\n    }\r\n};\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", () => {\r\n    var contentBlock = document.querySelector(\"article\");\r\n    if (!contentBlock) {\r\n        return;\r\n    }\r\n    for (var level = 2; level <= 3; level++) {\r\n        linkifyAnchors(level, contentBlock);\r\n    }\r\n    setupSidebarToggle();\r\n});\r\n\r\n(function (document, history, location) {\r\n    var HISTORY_SUPPORT = !!(history && history.pushState);\r\n\r\n    var anchorScrolls = {\r\n        ANCHOR_REGEX: /^#[^ ]+$/,\r\n        OFFSET_HEIGHT_PX: 60,\r\n\r\n        /**\r\n         * Establish events, and fix initial scroll position if a hash is provided.\r\n         */\r\n        init: function () {\r\n            this.scrollToCurrent();\r\n            window.addEventListener(\"hashchange\", this.scrollToCurrent.bind(this));\r\n            document.body.addEventListener(\"click\", this.delegateAnchors.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Return the offset amount to deduct from the normal scroll position.\r\n         * Modify as appropriate to allow for dynamic calculations\r\n         */\r\n        getFixedOffset: function () {\r\n            return this.OFFSET_HEIGHT_PX;\r\n        },\r\n\r\n        /**\r\n         * If the provided href is an anchor which resolves to an element on the\r\n         * page, scroll to it.\r\n         * @param  {String} href\r\n         * @return {Boolean} - Was the href an anchor.\r\n         */\r\n        scrollIfAnchor: function (href, pushToHistory) {\r\n            var match, rect, anchorOffset;\r\n\r\n            if (!this.ANCHOR_REGEX.test(href)) {\r\n                return false;\r\n            }\r\n\r\n            match = document.getElementById(href.slice(1));\r\n\r\n            if (match) {\r\n                rect = match.getBoundingClientRect();\r\n                anchorOffset = window.pageYOffset + rect.top - this.getFixedOffset();\r\n                window.scrollTo(window.pageXOffset, anchorOffset);\r\n\r\n                // Add the state to history as-per normal anchor links\r\n                if (HISTORY_SUPPORT && pushToHistory) {\r\n                    history.pushState({}, document.title, location.pathname + href);\r\n                }\r\n            }\r\n\r\n            return !!match;\r\n        },\r\n\r\n        /**\r\n         * Attempt to scroll to the current location's hash.\r\n         */\r\n        scrollToCurrent: function () {\r\n            this.scrollIfAnchor(window.location.hash);\r\n        },\r\n\r\n        /**\r\n         * If the click event's target was an anchor, fix the scroll position.\r\n         */\r\n        delegateAnchors: function (e) {\r\n            var elem = e.target;\r\n\r\n            if (\r\n                elem.nodeName === \"A\" &&\r\n                this.scrollIfAnchor(elem.getAttribute(\"href\"), true)\r\n            ) {\r\n                e.preventDefault();\r\n            }\r\n        }\r\n    };\r\n\r\n    window.addEventListener(\r\n        \"DOMContentLoaded\", anchorScrolls.init.bind(anchorScrolls)\r\n    );\r\n})(window.document, window.history, window.location);\r\n"]}