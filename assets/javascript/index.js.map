{"version":3,"sources":["main.js"],"names":["anchorForId","id","anchor","document","createElement","className","href","innerHTML","title","linkifyAnchors","level","containingElement","headers","getElementsByTagName","h","length","header","appendChild","setupSidebarToggle","toggleClass","toggler","querySelector","wrapper","addEventListener","e","preventDefault","indexOf","replace","window","location","pathname","style","display","contentBlock","scrollSidebar","history","HISTORY_SUPPORT","pushState","anchorScrolls","ANCHOR_REGEX","OFFSET_HEIGHT_PX","init","scrollToCurrent","bind","body","delegateAnchors","getFixedOffset","scrollIfAnchor","pushToHistory","match","rect","anchorOffset","test","getElementById","slice","getBoundingClientRect","pageYOffset","top","scrollTo","pageXOffset","hash","elem","target","nodeName","getAttribute","pathName","links","querySelectorAll","scrollIntoView"],"mappings":"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","file":"index.js","sourcesContent":["var anchorForId = function (id) {\n    var anchor = document.createElement(\"a\");\n    anchor.className = \"header-link\";\n    anchor.href = \"#\" + id;\n    anchor.innerHTML = `<span class=\"sr-only\">Permalink</span><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>`;\n    anchor.title = \"Permalink\";\n    return anchor;\n};\n\nvar linkifyAnchors = function (level, containingElement) {\n    var headers = containingElement.getElementsByTagName(\"h\" + level);\n    for (var h = 0; h < headers.length; h++) {\n        var header = headers[h];\n\n        if (typeof header.id !== \"undefined\" && header.id !== \"\") {\n            header.className += \" header\";\n            header.appendChild(anchorForId(header.id));\n        }\n    }\n};\n\nvar setupSidebarToggle = function () {\n    const toggleClass = \" active\";\n    var toggler = document.querySelector(\"#toggler\");\n    var wrapper = document.querySelector(\"#wrapper\");\n    toggler.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        if (wrapper.className.indexOf(toggleClass) > -1) {\n            wrapper.className = wrapper.className.replace(toggleClass, \"\");\n        } else {\n            wrapper.className += toggleClass;\n        }\n    });\n    if (window.location.pathname.indexOf(\"/software/api/runner.html\") > -1) {\n        toggler.style.display = 'none';\n    }\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n    var contentBlock = document.querySelector(\"article\");\n    if (!contentBlock) {\n        return;\n    }\n    for (var level = 2; level <= 3; level++) {\n        linkifyAnchors(level, contentBlock);\n    }\n    setupSidebarToggle();\n    scrollSidebar();\n});\n\n(function (document, history, location) {\n    var HISTORY_SUPPORT = !!(history && history.pushState);\n\n    var anchorScrolls = {\n        ANCHOR_REGEX: /^#[^ ]+$/,\n        OFFSET_HEIGHT_PX: 60,\n\n        /**\n         * Establish events, and fix initial scroll position if a hash is provided.\n         */\n        init: function () {\n            this.scrollToCurrent();\n            window.addEventListener(\"hashchange\", this.scrollToCurrent.bind(this));\n            document.body.addEventListener(\"click\", this.delegateAnchors.bind(this));\n        },\n\n        /**\n         * Return the offset amount to deduct from the normal scroll position.\n         * Modify as appropriate to allow for dynamic calculations\n         */\n        getFixedOffset: function () {\n            return this.OFFSET_HEIGHT_PX;\n        },\n\n        /**\n         * If the provided href is an anchor which resolves to an element on the\n         * page, scroll to it.\n         * @param  {String} href\n         * @return {Boolean} - Was the href an anchor.\n         */\n        scrollIfAnchor: function (href, pushToHistory) {\n            var match, rect, anchorOffset;\n\n            if (!this.ANCHOR_REGEX.test(href)) {\n                return false;\n            }\n\n            match = document.getElementById(href.slice(1));\n\n            if (match) {\n                rect = match.getBoundingClientRect();\n                anchorOffset = window.pageYOffset + rect.top - this.getFixedOffset();\n                window.scrollTo(window.pageXOffset, anchorOffset);\n\n                // Add the state to history as-per normal anchor links\n                if (HISTORY_SUPPORT && pushToHistory) {\n                    history.pushState({}, document.title, location.pathname + href);\n                }\n            }\n\n            return !!match;\n        },\n\n        /**\n         * Attempt to scroll to the current location's hash.\n         */\n        scrollToCurrent: function () {\n            this.scrollIfAnchor(window.location.hash);\n        },\n\n        /**\n         * If the click event's target was an anchor, fix the scroll position.\n         */\n        delegateAnchors: function (e) {\n            var elem = e.target;\n\n            if (\n                elem.nodeName === \"A\" &&\n                this.scrollIfAnchor(elem.getAttribute(\"href\"), true)\n            ) {\n                e.preventDefault();\n            }\n        }\n    };\n\n    window.addEventListener(\n        \"DOMContentLoaded\", anchorScrolls.init.bind(anchorScrolls)\n    );\n})(window.document, window.history, window.location);\n\nfunction scrollSidebar() {\n    /**\n     * Scroll the sidebar link to top, depending which one was clicked\n     */\n     let pathName = window.location.pathname;\n     let links = document.querySelectorAll(`a[href=\"${pathName}\"]`);\n     if (links?.length > 0) {\n         links[0].scrollIntoView();\n     }\n\n    /**\n     * Alternatively, scroll the sidebar to positions, depending on the path of\n     * the active page\n     */\n//     let pathName = window.location.pathname;\n//     let softwareApiPosition = 810;\n//     let hardwarePosition = 1210;\n//     let myadminPosition = 1760;\n//     if (pathName.includes(\"/software/api\")||pathName.includes(\"/software/js-samples\")) {\n//         //TODO: consider different browsers\n//         document.getElementById(\"sidebar-wrapper\").scrollTop = softwareApiPosition;\n//     } else if (pathName.includes(\"/hardware/\")) {\n//         document.getElementById(\"sidebar-wrapper\").scrollTop = hardwarePosition;\n//     } else if (pathName.includes(\"/myadmin-sdk/\")) {\n//         document.getElementById(\"sidebar-wrapper\").scrollTop = myadminPosition;\n//     } else {}\n  }\n"]}