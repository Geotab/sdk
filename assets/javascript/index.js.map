{"version":3,"sources":["main.js"],"names":["anchorForId","id","anchor","document","createElement","className","href","innerHTML","title","linkifyAnchors","level","containingElement","headers","getElementsByTagName","h","length","header","appendChild","setupSidebarToggle","toggleClass","toggler","querySelector","wrapper","addEventListener","e","preventDefault","indexOf","replace","window","location","pathname","style","display","contentBlock","scrollSidebar","history","HISTORY_SUPPORT","pushState","anchorScrolls","ANCHOR_REGEX","OFFSET_HEIGHT_PX","init","scrollToCurrent","bind","body","delegateAnchors","getFixedOffset","scrollIfAnchor","pushToHistory","match","rect","anchorOffset","test","getElementById","slice","getBoundingClientRect","pageYOffset","top","scrollTo","pageXOffset","hash","elem","target","nodeName","getAttribute","pathName","links","querySelectorAll","scrollIntoView"],"mappings":"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","file":"index.js","sourcesContent":["var anchorForId = function (id) {\n    var anchor = document.createElement(\"a\");\n    anchor.className = \"header-link\";\n    anchor.href = \"#\" + id;\n    anchor.innerHTML = `<span class=\"sr-only\">Permalink</span><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>`;\n    anchor.title = \"Permalink\";\n    return anchor;\n};\n\nvar linkifyAnchors = function (level, containingElement) {\n    var headers = containingElement.getElementsByTagName(\"h\" + level);\n    for (var h = 0; h < headers.length; h++) {\n        var header = headers[h];\n\n        if (typeof header.id !== \"undefined\" && header.id !== \"\") {\n            header.className += \" header\";\n            header.appendChild(anchorForId(header.id));\n        }\n    }\n};\n\nvar setupSidebarToggle = function () {\n    const toggleClass = \" active\";\n    var toggler = document.querySelector(\"#toggler\");\n    var wrapper = document.querySelector(\"#wrapper\");\n    toggler.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        if (wrapper.className.indexOf(toggleClass) > -1) {\n            wrapper.className = wrapper.className.replace(toggleClass, \"\");\n        } else {\n            wrapper.className += toggleClass;\n        }\n    });\n    if (window.location.pathname.indexOf(\"/software/api/runner.html\") > -1) {\n        toggler.style.display = 'none';\n    }\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n    var contentBlock = document.querySelector(\"article\");\n    if (!contentBlock) {\n        return;\n    }\n    for (var level = 2; level <= 3; level++) {\n        linkifyAnchors(level, contentBlock);\n    }\n    setupSidebarToggle();\n    scrollSidebar();\n});\n\n(function (document, history, location) {\n    var HISTORY_SUPPORT = !!(history && history.pushState);\n\n    var anchorScrolls = {\n        ANCHOR_REGEX: /^#[^ ]+$/,\n        OFFSET_HEIGHT_PX: 60,\n\n        /**\n         * Establish events, and fix initial scroll position if a hash is provided.\n         */\n        init: function () {\n            this.scrollToCurrent();\n            window.addEventListener(\"hashchange\", this.scrollToCurrent.bind(this));\n            document.body.addEventListener(\"click\", this.delegateAnchors.bind(this));\n        },\n\n        /**\n         * Return the offset amount to deduct from the normal scroll position.\n         * Modify as appropriate to allow for dynamic calculations\n         */\n        getFixedOffset: function () {\n            return this.OFFSET_HEIGHT_PX;\n        },\n\n        /**\n         * If the provided href is an anchor which resolves to an element on the\n         * page, scroll to it.\n         * @param  {String} href\n         * @return {Boolean} - Was the href an anchor.\n         */\n        scrollIfAnchor: function (href, pushToHistory) {\n            var match, rect, anchorOffset;\n\n            if (!this.ANCHOR_REGEX.test(href)) {\n                return false;\n            }\n\n            match = document.getElementById(href.slice(1));\n\n            if (match) {\n                rect = match.getBoundingClientRect();\n                anchorOffset = window.pageYOffset + rect.top - this.getFixedOffset();\n                window.scrollTo(window.pageXOffset, anchorOffset);\n\n                // Add the state to history as-per normal anchor links\n                if (HISTORY_SUPPORT && pushToHistory) {\n                    history.pushState({}, document.title, location.pathname + href);\n                }\n            }\n\n            return !!match;\n        },\n\n        /**\n         * Attempt to scroll to the current location's hash.\n         */\n        scrollToCurrent: function () {\n            this.scrollIfAnchor(window.location.hash);\n        },\n\n        /**\n         * If the click event's target was an anchor, fix the scroll position.\n         */\n        delegateAnchors: function (e) {\n            var elem = e.target;\n\n            if (\n                elem.nodeName === \"A\" &&\n                this.scrollIfAnchor(elem.getAttribute(\"href\"), true)\n            ) {\n                e.preventDefault();\n            }\n        }\n    };\n\n    window.addEventListener(\n        \"DOMContentLoaded\", anchorScrolls.init.bind(anchorScrolls)\n    );\n})(window.document, window.history, window.location);\n\nfunction scrollSidebar() {\n    /**\n     * Scroll the sidebar link to top, depending which one was clicked\n     */\n     let pathName = window.location.pathname;\n     let links = document.querySelectorAll(`a[href=\"${pathName}\"]`);\n     if (links?.length > 0) {\n         links[0].scrollIntoView();\n     }\n\n    /**\n     * Alternatively, scroll the sidebar to positions, depending on the path of\n     * the active page\n     */\n//     let pathName = window.location.pathname;\n//     let softwareApiPosition = 810;\n//     let hardwarePosition = 1210;\n//     let myadminPosition = 1760;\n//     if (pathName.includes(\"/software/api\")||pathName.includes(\"/software/js-samples\")) {\n//         //TODO: consider different browsers\n//         document.getElementById(\"sidebar-wrapper\").scrollTop = softwareApiPosition;\n//     } else if (pathName.includes(\"/hardware/\")) {\n//         document.getElementById(\"sidebar-wrapper\").scrollTop = hardwarePosition;\n//     } else if (pathName.includes(\"/myadmin-sdk/\")) {\n//         document.getElementById(\"sidebar-wrapper\").scrollTop = myadminPosition;\n//     } else {}\n  }\n"]}