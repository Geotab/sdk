<!DOCTYPE html><html lang=En><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><script src=https://cmp.osano.com/Azq8VcSSUm67lg5f/3c378e5d-3772-41f7-8106-94eeee3a3c15/osano.js></script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5V5GBX4');</script><title>Add-On Protocol - RS232 &amp; USB | Geotab Developers</title><meta name=generator content="Jekyll v4.3.2"><meta property=og:title content="Add-On Protocol - RS232 &amp; USB"><meta name=author content="The Geotab Team"><meta property=og:locale content=en_US><meta name=description content="This site provides tools for integrating with various types of Geotab products."><meta property=og:description content="This site provides tools for integrating with various types of Geotab products."><link rel=canonical href=https://geotab.github.io/sdk/hardware/addon-protocols/rs232-usb/ ><meta property=og:url content=https://geotab.github.io/sdk/hardware/addon-protocols/rs232-usb/ ><meta property=og:site_name content="Geotab Developers"><meta property=og:type content=website><meta name=twitter:card content=summary><meta property=twitter:title content="Add-On Protocol - RS232 &amp; USB"><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"The Geotab Team"},"description":"This site provides tools for integrating with various types of Geotab products.","headline":"Add-On Protocol - RS232 &amp; USB","url":"https://geotab.github.io/sdk/hardware/addon-protocols/rs232-usb/"}</script><link rel=stylesheet href=/sdk/assets/stylesheets/style-7593abd5bb.min.css><link rel=stylesheet href=/sdk/assets/stylesheets/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=/sdk/assets/images/touch/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/sdk/favicon.ico></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V5GBX4" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><header><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark" title=navigationBar><a class=navbar-brand href=/sdk/ ><img src=/sdk/assets/images/pillar.svg width=30 height=30 class="d-inline-block align-top" alt=""> Geotab Developers </a><button class="navbar-toggler d-lg-none" id=toggler type=button aria-label="navigation bar toggler"><span class=navbar-toggler-icon></span></button></nav></header><div id=wrapper><div id=sidebar-wrapper class=bg-light><nav id=sidebar class=sidebar><h4>MyGeotab SDK</h4><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/introduction/ >MyGeotab SDK Introduction</a></li><li class=nav-link><a href=/sdk/resources/new/ >What's New</a></li><li><h5>Guides</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/guides/getting-started/ >Getting Started</a></li><li class=nav-link><a href=/sdk/software/guides/concepts/ >Concepts</a></li><li class=nav-link><a href=/sdk/software/guides/using-in-javascript/ >Using in Javascript</a></li><li class=nav-link><a href=/sdk/software/guides/using-in-dotnet/ >Using in .Net</a></li><li class=nav-link><a href=/sdk/software/guides/using-in-java/ >Using in Java</a> <span class=beta>Beta</span></li><li class=nav-link><a href=/sdk/software/guides/data-feed/ >Data Feed</a></li><li class=nav-link><a href=/sdk/software/guides/mygeotab-urls/ >Using MyGeotab URLs</a></li><li class=nav-link><a href=/sdk/software/guides/using-go-devices/ >Using GO Devices</a></li><li class=nav-link><a href=/sdk/software/guides/go-device-logging/ >GO Device Logging</a></li><li class=nav-link><a href=/sdk/software/guides/custom-telematics-devices/ >Using Custom Telematics Devices</a></li><li class=nav-link><a href=/sdk/software/guides/developing-addins/ >Developing Add-Ins</a></li><li class=nav-link><a href=/sdk/software/guides/addin-storage/ >Using Add-Ins for data storage</a></li><li class=nav-link><a href=/sdk/software/guides/drive-addins/ >Geotab Drive Add-Ins</a></li><li class=nav-link><a href=/sdk/software/guides/map-add-ins-docs/ >Map Add-ins</a></li><li class=nav-link><a href=https://github.com/Geotab/mg-media-files>Media Files</a> <span class=beta>Beta</span></li><li class=nav-link><a href=/sdk/software/guides/power-bi/ >Connect to Power BI</a></li><li class=nav-link><a href=/sdk/software/guides/geotab-data-connector/ >Using the Geotab Data Connector</a></li></ul></li><li><h5>API</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/api/reference/ >Reference</a></li><li class=nav-link><a href=/sdk/software/api/runner.html>Runner</a></li><li class=nav-link><a href=/sdk/software/api/clients/ >API Clients</a></li></ul></li><li><h5>Code Samples</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/js-samples/ >Javascript Examples</a></li><li class=nav-link><a href=/sdk/software/dotnet-samples/ >.Net Examples</a></li><li class=nav-link><a href=https://github.com/Geotab/sdk-java-samples>Java Examples</a> <span class=beta>Beta</span></li><li class=nav-link><a href=https://github.com/Geotab/sdk-addin-samples>Add-in Examples</a></li></ul></li></ul><hr><h4>Hardware</h4><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/introduction/ >Hardware Introduction</a></li><li><h5>Add-on Protocols</h5><ul class="nav flex-column"><li class="nav-link active"><a href=/sdk/hardware/addon-protocols/rs232-usb/ >RS232 & USB</a></li><li class=nav-link><a href=/sdk/hardware/addon-protocols/can/ >CAN</a></li><li class=nav-link><a href=/sdk/hardware/addon-protocols/ble/ >BLE</a></li></ul></li><li><h5>Code Samples</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/samples/python/ >Python</a></li><li class=nav-link><a href=https://github.com/Geotab/android-external-device-example>Android</a></li></ul></li><li><h5>Developing an IOX</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/developing-an-iox/hardware-design-guide/ >Hardware Design Guide</a></li><li class=nav-link><a href=/sdk/hardware/developing-an-iox/messaging-protocol/ >Messaging Protocol</a></li></ul></li></ul><hr><h4>MyAdmin SDK</h4><ul class="nav flex-column"><li class=nav-link><a href=/sdk/myadmin-sdk/introduction/ >MyAdmin SDK Introduction</a></li><li class=nav-link><a href=/sdk/myadmin-sdk/new/ >What's New</a></li><li><h5>Guides</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/myadmin-sdk/guides/getting-started/ >Getting Started</a></li><li class=nav-link><a href=/sdk/myadmin-sdk/guides/concepts/ >Concepts</a></li><li class=nav-link><a href=/sdk/myadmin-sdk/guides/using-with-dotnet/ >Using with .NET</a></li><li class=nav-link><a href=/sdk/myadmin-sdk/guides/using-with-javascript/ >Using with JavaScript</a></li><li class=nav-link><a href=/sdk/myadmin-sdk/guides/using-third-party-devices/ >Using Third-Party Devices with MyGeotab</a> <span class=legacy>Legacy</span></li></ul></li><li><h5>API</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/myadmin-sdk/api/reference/ >Reference</a></li></ul></li><li><h5>Code Samples</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/myadmin-sdk/code-samples/dotnet-examples/ >.NET Examples</a></li><li class=nav-link><a href=/sdk/myadmin-sdk/code-samples/javascript-examples/ >JavaScript Examples</a></li></ul></li></ul><hr><h4>Resources</h4><ul class="nav flex-column"><li class=nav-link><a href=https://community.geotab.com/s/ >Forums</a></li><li class=nav-link><a href=https://www.geotab.com/dev-channel/ >Dev Channel</a></li><li class=nav-link><a href=/sdk/resources/toolkits/ >Toolkits</a></li></ul><hr></nav></div><main role=main><div class=container-fluid><div class=row><article class=col-md-12><header><a href=https://github.com/Geotab/sdk/blob/master/src/hardware/addon-protocols/rs232-usb.md class="float-right small"><svg class="octicon octicon-mark-github" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path></svg> Edit on GitHub</a> <a href="https://community.geotab.com/s/topic/0TO2J000000gAUAWA2/developer-discussions?language=en_US&viewMore=1" class="float-right small mx-2"><svg class="octicon octicon-people" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path d="M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"></path></svg> Ask developers in the Community</a><h1>Add-On Protocol - RS232 & USB</h1></header><div><p>External devices can communicate with the Geotab GO device through the Third-Party RS232 and USB protocol below. Two-way communication is supported, allowing a MyGeotab API call to produce messages from the IOX device to reach the external device. The hardware interface will be one of the following:</p><ul><li><a href=https://www.geotab.com/documentation/iox-rs232/ title="IOX-RS232 Support Documentation">IOX-RS232 F/M</a></li><li><a href=https://www.geotab.com/documentation/iox-usb/ title="IOX-USB Support Documentation">IOX-USB</a></li></ul><h2 id=special-requirements>Special Requirements</h2><h3 id=enabling-iox-usb-data-transfer>Enabling IOX-USB Data Transfer</h3><p>To enable third-party data communication on the IOX-USB, apply the following custom parameter to the GO device through MyGeotab.</p><div class="language-xml highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nt>&lt;GoParameters&gt;&lt;Parameter</span> <span class=na>Description=</span><span class=s>"Enable USB Data"</span> <span class=na>Offset=</span><span class=s>"164"</span> <span class=na>Bytes=</span><span class=s>"02"</span><span class=nt>/&gt;&lt;/GoParameters&gt;</span>
</code></pre></div></div><p>* <em>Note</em> - The GO device will automatically upgrade to the ProPlus rate plan once third-party data transfer begins.</p><h3 id=iox-usb-communication-consideration>IOX-USB Communication Consideration</h3><p>The IOX-USB operates as a USB 2.0 full-speed host. The maximum data transfer rate is 12 Mbit/s. The IOX-USB can use two methods to enumerate a USB device:</p><ol><li>The <a href=https://source.android.com/devices/accessories/protocol.html>Android Open Accessory protocol (<em>AOA</em>)</a>. This <a href=https://github.com/Geotab/android-external-device-example title="Android Open Accessory Sample">sample project</a> can be used as a framework.</li><li>USB-CDC (Communications Device Class)</li></ol><h3 id=powering-a-device-using-the-iox-rs232-and-iox-usb>Powering a device using the IOX-RS232 and IOX-USB</h3><p>Both the IOX-USB and the IOX-RS232 can provide power to an Add-On Device.</p><ul><li>The IOX-USB can provide 1.5A at 5V as a power output.</li><li>The IOX-RS232 supports 900mA at 12/24V to the external red (power) and black (ground) wires. However, it is not required to power the Add On device using the IOX-RS232.</li></ul><h3 id=grounding-a-device>Grounding a device</h3><p>Even if the Hardware Add-On has a separate connection to vehicle power and ground, it is still recommended to connect the Add-On ground to the ground wire of the IOX-RS232 as this will improve signal integrity.</p><h3 id=serial-port-settings-for-add-ons>Serial Port Settings For Add-Ons</h3><p>Geotab recommends that RS232/USB serial ports are programmed in accordance with the following specifications:</p><ul><li>Baud Rate: 9600 or 115200, Note: the device is equipped with autobaud detection so other standard rates are acceptable</li><li>Parity: None</li><li>Stop Bits: 1</li><li>Flow Control: None</li></ul><h2 id=integration-process>Integration Process</h2><p>The following process should be followed when integrating a third-party device with the GO device using our Third-Party Data Protocol.</p><h3 id=contact-solutions-engineering>Contact Solutions Engineering</h3><p>Contact the <a href=mailto:soleng@geotab.com>Geotab Solutions Engineering team</a> with a detailed integration proposal, this should include:</p><ul><li>A name for the integration</li><li>The interfacing hardware</li><li>Data types that will be sent to MyGeotab</li><li>The required Status Data</li><li>Direction of data transfer</li><li>Expected timelines for integrating</li></ul><p>The Solutions Engineering team will respond with follow up questions to define the integration, and assign an External device ID, and any Status Data IDs that would be required.</p><p>An additional resource is the <a href="https://docs.google.com/presentation/d/1nkmDYw2tscZxKaezFm5sR3jLItI3IRJTS6JIhgg0rFU/edit#slide=id.g625282e7fc_0_0">Hardware Integration Toolkit</a> with integration walkthrough.</p><h3 id=using-status-data-ids>Using Status Data IDs</h3><p>There is an extensively defined Status Data ID list which can be found at <a href="https://docs.google.com/spreadsheets/d/1sy7IOhWmFoo40_I-ruOJO8bVTMLXqHa11d0oJtaoIcE/edit#gid=1133172080">MyGeotab Diagnostics</a>. Specifics regarding Status Data ID implementations can be found on the README sheet.</p><h3 id=handshake>Handshake</h3><p>An initial Handshake <strong>is required</strong> in order for the GO device to accept third-party data. Ignition must be on for the handshake process.</p><ol><li>After powering up, the GO device will enter an external device detection cycle. The external device will be powered for 72 seconds. In this interval, the GO device will listen for a <a href=#handshake-sync-auto-baud-detect-for-rs232>Handshake Sync</a> from the external device. The Handshake Sync is used to indicate that an external device is present. For implementations using the IOX-RS232, the Handshake Sync is also used to detect baud rate.<ul><li>The external device must send the Handshake Sync message once per second.</li><li>If a Handshake Sync message is not detected from the external device after 72 seconds, the external device is powered down for 5 seconds, then powered up again to restart the detection cycle.</li></ul></li><li>The GO device will reply to a Handshake Sync with a <a href=#msg-type-0x01-handshake-request>Handshake Request</a>.</li><li>The external device must reply with a <a href=#msg-type-0x81-handshake-confirmation>Handshake Confirmation</a> message within 2 seconds. If the external device would like an acknowledgment from the GO device that it received the Handshake Confirmation message, the corresponding flag in the Handshake Confirmation message may be set.</li><li>After sending the Handshake Confirmation message, the external device can begin to send third-party data as required. For every <a href=#msg-type-0x80-third-party-data-as-status-data>Third-Party Data Message</a> sent, the GO device will reply with a <a href=#msg-type-0x02-third-party-data-acknowledge>Data Acknowledge message</a>.<ul><li>If the external device receives no response to a Third-Party Data message, it must restart the handshake process — returning to step 1 above.</li></ul></li><li>The GO device may send a Handshake Request message at any time after the initial handshake. The external device must respond with a Handshake Confirmation message. If the external device does not respond, it must restart the handshake process — returning to step 1 above.</li></ol><h3 id=checksum>Checksum</h3><p>Each message will contain a 2-byte Fletcher’s Checksum calculated across all the bytes of the message except the checksum itself. The checksum values are bytes, and as such overflow from 255 (0xFF) to 0 (0x00). The bytes used for the checksum calculation are all the bytes up to the checksum byte, including STX, LEN, TYPE, but not including ETX.</p><p>Checksum calculation pseudo code:</p><div class="language-js highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nx>byte</span> <span class=nx>ChkA</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
<span class=nx>byte</span> <span class=nx>ChkB</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
<span class=c1>// n is the number of bytes in the message</span>
<span class=c1>// up to, but not including, the checksum</span>
<span class=k>for </span><span class=p>(</span><span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>n</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span>
<span class=p>{</span>
<span class=nx>ChkA</span> <span class=o>=</span> <span class=nx>ChkA</span> <span class=o>+</span> <span class=nx>MsgBuffer</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
<span class=nx>ChkB</span> <span class=o>=</span> <span class=nx>ChkB</span> <span class=o>+</span> <span class=nx>ChkA</span><span class=p>;</span>
<span class=p>}</span>
<span class=c1>// ChkA precedes ChkB in the message</span>
</code></pre></div></div><h3 id=data-endianness>Data Endianness</h3><p>All values must be sent using Little Endian Byte Order, meaning the least significant byte first.</p><h2 id=messages-from-the-go-device>Messages from the GO device</h2><h3 id=msg-type-0x01-handshake-request>Msg Type 0x01: Handshake Request</h3><p>Issued by GO device on receipt of the Handshake Sync and periodically re-sent to confirm that the external device is still attached.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x01</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 0</td><td>1</td><td>2</td></tr><tr><td>Checksum</td><td>2</td><td>3</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5</td></tr><tr><td>Reply: Handshake Confirmation (<a href=#msg-type-0x81-handshake-confirmation>Msg Type 0x81</a>)</td><td> </td><td> </td></tr></tbody></table><h3 id=msg-type-0x02-third-party-data-acknowledge>Msg Type 0x02: Third-Party Data Acknowledge</h3><p>Issued by GO device on receipt of Third-Party Data from the External Device.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x02</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 0</td><td>1</td><td>2</td></tr><tr><td>Checksum</td><td>2</td><td>3</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5</td></tr></tbody></table><h3 id=msg-type-0x21-go-device-data>Msg Type 0x21: GO Device Data</h3><p>Issued by GO device every 2 seconds to a connected Enhanced HOS Device (ID: 4141) or periodically when a 0x85 request message is received.</p><ul><li>An Enhanced HOS Device must ACK this message with a 0x84 message.</li><li>If the data is requested periodically using the 0x85 message, the ACK is optional.</li></ul><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x21</td><td>1</td><td>1</td></tr><tr><td>Message Body Length &gt;= 52 [1]</td><td>1</td><td>2</td></tr><tr><td>Date / Time [2]</td><td>4</td><td>3</td></tr><tr><td>Latitude</td><td>4</td><td>7</td></tr><tr><td>Longitude</td><td>4</td><td>11</td></tr><tr><td>Road Speed [3]</td><td>1</td><td>15</td></tr><tr><td>RPM</td><td>2</td><td>16</td></tr><tr><td>Odometer [4]</td><td>4</td><td>18</td></tr><tr><td>Status Flags (from LSB):<br>1st bit: 1 = GPS Valid<br>2nd bit: 1 = Ignition On<br>3rd bit: 1 = Engine Bus Activity<br>4th bit: 1 = Date/Time Valid<br>5th bit: 1 = Speed From Engine<br>6th bit: 1 = Odometer From Engine</td><td>1</td><td>22</td></tr><tr><td>Trip Odometer [4]</td><td>4</td><td>23</td></tr><tr><td>Total Engine Hours</td><td>4</td><td>27</td></tr><tr><td>Trip Duration [5]</td><td>4</td><td>31</td></tr><tr><td>GO Device ID [6]</td><td>4</td><td>35</td></tr><tr><td>Driver ID [7]</td><td>4</td><td>39</td></tr><tr><td>GO Device Serial Number</td><td>12</td><td>43</td></tr><tr><td>Checksum</td><td>2</td><td>Length + 3</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>Length + 5</td></tr><tr><td>Reply: Device Data Ack (<a href=#msg-type-0x84-device-data-ack>Msg Type 0x84</a>)</td><td> </td><td> </td></tr></tbody></table><ol><li>All implementations of this message must cater for the message length increasing in the future.</li><li>“Date/Time” is a ‘seconds’ counter starting from 1st of January 2002.</li><li>If Road Speed from the engine is not available, GPS speed is used.</li><li>Increase of odometer since the most recent ignition on. If Odometer is not available, GPS device distance is used.</li><li>Time passed since the most recent ignition on.</li><li>GO Device ID is a legacy field. It will contain invalid values by April 15, 2021.</li><li>Driver ID only available when using the IOX-NFC.</li></ol><h4 id=conversions><em>Conversions</em></h4><table><thead><tr><th><strong>Data</strong></th><th><strong>Conversion</strong></th><th><strong>Units</strong></th></tr></thead><tbody><tr><td>Engine Road Speed</td><td>1</td><td>km/h</td></tr><tr><td>Odometer</td><td>0.1</td><td>km</td></tr><tr><td>RPM</td><td>0.25</td><td>RPM</td></tr><tr><td>Lat/Long</td><td>1e-7</td><td>degrees</td></tr><tr><td>Engine Hours</td><td>0.1</td><td>h</td></tr><tr><td>Trip Duration</td><td>1</td><td>s</td></tr></tbody></table><h3 id=msg-type-0x22-binary-data-response>Msg Type 0x22: Binary Data Response</h3><p>Issued by the GO device on successful/unsuccessful transmission of Binary Data (via Msg Type 0x86) to the server.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x22</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 4</td><td>1</td><td>2</td></tr><tr><td>Binary data transmission success<br>0 = transmission failure<br>1 = transmission success</td><td>1</td><td>3</td></tr><tr><td>Reserved</td><td>3</td><td>4</td></tr><tr><td>Checksum</td><td>2</td><td>7</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>9</td></tr></tbody></table><h3 id=msg-type-0x23-binary-data-packet>Msg Type 0x23: Binary Data Packet</h3><p>Issued by the GO device on receipt of Binary Data from the server destined for the external device. This message format will only be used if the corresponding “Binary Data Packet Wrapping” flag has been set by the external device during the Handshake Confirmation. The payload of the binary data packet message will be the raw bytes as sent from the server.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x23</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = x (0 - 249)</td><td>1</td><td>2</td></tr><tr><td>Binary Data</td><td>x</td><td>3</td></tr><tr><td>Checksum</td><td>2</td><td>3+x</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5+x</td></tr></tbody></table><h3 id=msg-type-0x24-extended-application-specific-data-to-external-device>Msg Type 0x24: Extended application specific data to external device</h3><p>Sent by the GO device to the external device. Send data as multi-frame data to iox. Once iox recieved the data, it will foward data to external device. Currently only used for carshare.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x24</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = x (0 - 119)</td><td>1</td><td>2</td></tr><tr><td>Extended_binary_data</td><td>x</td><td>3</td></tr><tr><td>Checksum</td><td>2</td><td>3+x</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5+x</td></tr></tbody></table><h3 id=msg-type-0x25-extended-binary-data-packet>Msg Type 0x25: Extended binary data packet</h3><p>Issued by the GO device on receipt of Binary Data of 256 bytes or more from the server destined for the external device This message format will only be used if the corresponding “Binary Data Packet Wrapping” flag has been set by the external device during the Handshake Confirmation. The payload of the binary data packet message will be the raw bytes as sent from the server.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x25</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = x (256 - 1023)</td><td>1</td><td>2</td></tr><tr><td>Extended_binary_data</td><td>x</td><td>3</td></tr><tr><td>Checksum</td><td>2</td><td>3+x</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5+x</td></tr></tbody></table><h3 id=msg-type-0x26-protobuf-data-packet>Msg Type 0x26: Protobuf data packet</h3><p>Available with add-on protocol version &gt;= 1.2. Issued by the GO device in response to Msg Type 0x8C. Also issued by the GO device to publish information for the topics (defined in Appendix D) subscribed by the third party device. The information includes a payload containing data encoded in the protobuf format.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x26</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = x (1 - 255)</td><td>1</td><td>2</td></tr><tr><td>Data Payload Protobuf (1-255)</td><td>x</td><td>3</td></tr><tr><td>Checksum</td><td>2</td><td>3+x</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5+x</td></tr></tbody></table><p>The payload of the protobuf data needs to adhere to protocols understood by the Geotab servers. Please see Appendix D for the payload details.</p><h3 id=msg-type-0x27-add-on-protocol-version-to-external-device>Msg Type 0x27: Add-On protocol version to external device</h3><p>Issued by the GO device on receipt of 0x8B.Should be paired with 0x8B. 0x27 is a reply to 0x8B. Sent by the GO to an external device as a reply to the Add-On protocol version request. The protocol version sent includes the Major and Minor version numbers.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x27</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 4</td><td>1</td><td>2</td></tr><tr><td>Protocol major version</td><td>2</td><td>3</td></tr><tr><td>Protocol minor version</td><td>2</td><td>5</td></tr><tr><td>Checksum</td><td>2</td><td>7</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>9</td></tr></tbody></table><h2 id=messages-from-external-device>Messages from External Device</h2><h3 id=handshake-sync-auto-baud-detect-for-rs232>Handshake Sync (Auto-BAUD detect for RS232)</h3><p>Issued by External Device every second until the Handshake Request is received.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>Sync Char (0x55)</td><td>1</td><td>0</td></tr><tr><td>Reply: Handshake Request (<a href=#msg-type-0x01-handshake-request>Msg Type 0x01</a>)</td><td> </td><td> </td></tr></tbody></table><h3 id=msg-type-0x81-handshake-confirmation>Msg Type 0x81: Handshake Confirmation</h3><p>Issued by the External Device when it receives the Handshake Request.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x81</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 4</td><td>1</td><td>2</td></tr><tr><td>External Device ID (assigned by Geotab)</td><td>2</td><td>3</td></tr><tr><td>Flags<br>1st bit: Handshake Confirmation ACK<br>2nd bit: Binary Data Packet Wrapping<br>All other bits:Reserved for future implementation, must be set to 0</td><td>2</td><td>5</td></tr><tr><td>Checksum</td><td>2</td><td>7</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>9</td></tr></tbody></table><p>Handshake Confirmation ACK:</p><ul><li>0: No Ack to Handshake Confirmation message will be sent by the GO device.</li><li>1: The Handshake Confirmation is to be ACKed with a Third Party Data Acknowledge message.</li></ul><p>Binary Data Packet Wrapping:</p><ul><li>0: The passthrough data from the server will be passed to the external device without modification.</li><li>1: The passthrough data from the server will be wrapped in a Binary Data Packet message before being sent to the external device.</li></ul><h3 id=msg-type-0x80-third-party-data-as-status-data>Msg Type 0x80: Third-Party Data as Status Data</h3><p>Issued by the external device whenever it requires Third-Party Data to be saved on the GO device as Status Data.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x80</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 6</td><td>1</td><td>2</td></tr><tr><td>Data ID (assigned by Geotab)</td><td>2</td><td>3</td></tr><tr><td>Data</td><td>4</td><td>5</td></tr><tr><td>Checksum</td><td>2</td><td>9</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>11</td></tr><tr><td>Reply: Third-Party Data Ack (<a href=#msg-type-0x02-third-party-data-acknowledge>Msg Type 0x02</a>)</td><td> </td><td> </td></tr></tbody></table><h3 id=msg-type-0x82-free-format-third-party-data>Msg Type 0x82: Free Format Third-Party Data</h3><p>Issued by the external device whenever it wants Third-Party Data to be saved on the GO device in a free format (1 to 27 bytes) that will be saved into MyGeotab as Custom Data. Rate limit is 500 logs per 10 minutes. If you exceed the rate limit, the GO device will stop taking data from the IOX.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x82</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = x (1 to 27)</td><td>1</td><td>2</td></tr><tr><td>Data</td><td>x</td><td>3</td></tr><tr><td>Checksum</td><td>2</td><td>3 + x</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5 + x</td></tr><tr><td>Reply: Third-Party Data Ack (<a href=#msg-type-0x02-third-party-data-acknowledge>Msg Type 0x02</a>)</td><td> </td><td> </td></tr></tbody></table><h3 id=msg-type-0x84-device-data-ack>Msg Type 0x84: Device Data ACK</h3><p>Issued by the External Device on receipt of the GO Device Data message.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x84</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 0</td><td>1</td><td>2</td></tr><tr><td>Checksum</td><td>2</td><td>3</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5</td></tr></tbody></table><p>For the purpose of acknowledging the GO Device Data message when connected as an Enhanced HOS Device:</p><ul><li>The GO device will keep streaming the GO Device Data messages even if no ACK is received for up to 30 seconds.</li><li>If no ACK is received in that time frame the GO Device will send an External Device Disconnected record to the server and will wait for a new Handshake Sync request from the External Device.</li><li>If the ACK message is received within the 30 seconds the counter will be re-initialized.</li></ul><h3 id=msg-type-0x85-request-device-data-message>Msg Type 0x85: Request Device Data Message</h3><p>This is a request-response message. It can be issued by the External Device whenever it wishes to receive the Device Data Info Message (Msg Type 0x21).</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x85</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 0</td><td>1</td><td>2</td></tr><tr><td>Checksum</td><td>2</td><td>3</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5</td></tr><tr><td>Reply: GO Device Data (<a href=#msg-type-0x21-go-device-data>Msg Type 0x21</a>)</td><td> </td><td> </td></tr></tbody></table><h3 id=msg-type-0x86-binary-data-packet>Msg Type 0x86: Binary Data Packet</h3><p>Sent by the external device when sending binary data directly to the server. The contents of the message will be ignored by the GO device and simply sent on to the server for processing. The GO device will respond with the Binary Data Response message indicating whether the data was successfully sent via the modem.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x86</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = x (0 - 250)</td><td>1</td><td>2</td></tr><tr><td>Binary Data</td><td>x</td><td>3</td></tr><tr><td>Checksum</td><td>2</td><td>3+x</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5+x</td></tr><tr><td>Reply: Binary Data Response (<a href=#msg-type-0x22-binary-data-response>Msg Type 0x22</a>)</td><td> </td><td> </td></tr></tbody></table><p>The payload of the binary data needs to adhere to protocols understood by the Geotab servers. MIME protocol is one these protocols. Please see <a href=#appendix-c-using-binary-data-messages-to-transfer-mime-data>Appendix C</a> for implementation details.</p><h3 id=msg-type-0x87-third-party-data-as-priority-status-data>Msg Type 0x87: Third-Party Data as Priority Status Data</h3><p>Priority Status Data will follow an expedited processing workflow on the GoDevice but will otherwise be treated the same as the 0x80 Status Data message. It will also be logged using an Iridium modem connection if available.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x87</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 6</td><td>1</td><td>2</td></tr><tr><td>Data ID (assigned by Geotab)</td><td>2</td><td>3</td></tr><tr><td>Data</td><td>4</td><td>5</td></tr><tr><td>Checksum</td><td>2</td><td>9</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>11</td></tr><tr><td>Reply: Third-Party Data Ack (<a href=#msg-type-0x02-third-party-data-acknowledge>Msg Type 0x02</a>)</td><td> </td><td> </td></tr></tbody></table><h3 id=msg-type-0x88-extended-application-specific-data-from-external-device>Msg Type 0x88: Extended application specific data from external device</h3><p>Extended application specific data from external device is sent by the external device to the GO device. Can be used for payloads larger than 1 byte. There must be an associated service running on the GO that is looking for these messages. Currently only used for carshare.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th><th> </th><th> </th><th> </th><th> </th><th> </th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr><tr><td>Message Type = 0x88</td><td>1</td><td>1</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr><tr><td>Message Body Length = x (1 to 1024)</td><td>1</td><td>2</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr><tr><td>extended_binary_data (message_body) =</td><td>0</td><td>1</td><td>2</td><td>3</td><td>…</td><td>x-1</td><td>(data content could be from 0 to 0xff)</td></tr><tr><td>Checksum</td><td>2</td><td>3+x</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5+x</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr><tr><td>Reply: Binary Data Response (<a href=#msg-type-0x22-binary-data-response>Msg Type 0x22</a>)</td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td></tr></tbody></table><h3 id=msg-type-0x89-ping>Msg Type 0x89: Ping</h3><p>After handshaking, this message can be issued periodically by the External Device to check that the GO device is active and ready. The GO device will normally reply with the Third-Party Data Ack (Msg Type 0x02). If this reply is not received, the External Device should reset and begin sending the Handshake Sync (0x55).</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x89</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 0</td><td>1</td><td>2</td></tr><tr><td>Checksum</td><td>2</td><td>3</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5</td></tr><tr><td>Reply: Third-Party Data Ack (<a href=#msg-type-0x02-third-party-data-acknowledge>Msg Type 0x02</a>)</td><td> </td><td> </td></tr></tbody></table><h3 id=msg-type-0x8b-add-on-protocol-version-request>Msg Type 0x8B: Add-On protocol version request</h3><p>Sent by the external device when requesting the add on protocol version number. Once the GO receives this request it will reply with 0x27.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x8B</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 0</td><td>1</td><td>2</td></tr><tr><td>Checksum</td><td>2</td><td>3</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5</td></tr><tr><td>Reply: Third-Party version Ack Reply (<a href=#msg-type-0x27-add-on-version-to-external-device>Msg Type 0x27</a>)</td><td> </td><td> </td></tr></tbody></table><h3 id=msg-type-0x8c-protobuf-data-packet>Msg Type 0x8C: Protobuf data packet</h3><p>Available with add-on protocol version &gt;= 1.2. Sent by the external device to subscribe to various topics/information. The GO device will respond with 0x26 ACK. The topics that the third party is interested in are requested in the form of a payload data encoded using protobuf format.</p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x8C</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = x(1-255)</td><td>1</td><td>2</td></tr><tr><td>Data Payload Protobuf (message_body) = x (1 to 255)</td><td>x</td><td>3</td></tr><tr><td>Checksum</td><td>2</td><td>3 + x</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>5 + x</td></tr><tr><td>Reply: Protobuf data packet (<a href=#msg-type-0x26-Protobuf-data-packet>Msg Type 0x26</a>)</td><td> </td><td> </td></tr></tbody></table><p>The payload of the protobuf data needs to adhere to protocols understood by the Geotab servers. Please see Appendix D for the payload details.</p><h2 id=messages-from-mygeotab>Messages from MyGeotab</h2><p>To send messages from MyGeotab to the external device, please download the source code of the <a href=https://geotab.github.io/sdk/software/js-samples/#starter-kit>Starter Kit</a> sample, and replace the <a href=https://github.com/Geotab/sdk/blob/master/src/software/js-samples/starterKit.html#L76>Sample API</a> with the following script. The alternative is paste the script in the <a href=https://geotab.github.io/sdk/software/api/runner.html>Runner</a>.</p><div class="language-javascript highlighter-rouge"><div class=highlight><pre class=highlight><code>    <span class=nx>api</span><span class=p>.</span><span class=nf>call</span><span class=p>(</span><span class=dl>"</span><span class=s2>Add</span><span class=dl>"</span><span class=p>,</span> <span class=p>{</span>
            <span class=dl>"</span><span class=s2>typeName</span><span class=dl>"</span><span class=p>:</span> <span class=dl>"</span><span class=s2>TextMessage</span><span class=dl>"</span><span class=p>,</span>
            <span class=dl>"</span><span class=s2>entity</span><span class=dl>"</span><span class=p>:</span> <span class=p>{</span>
              <span class=dl>"</span><span class=s2>user</span><span class=dl>"</span><span class=p>:</span> <span class=p>{</span>
                <span class=dl>"</span><span class=s2>id</span><span class=dl>"</span><span class=p>:</span> <span class=nx>user</span><span class=p>.</span><span class=nx>id</span>               <span class=c1>//Replace with user id of interest</span>
              <span class=p>},</span>
              <span class=dl>"</span><span class=s2>device</span><span class=dl>"</span><span class=p>:</span> <span class=p>{</span>
                <span class=dl>"</span><span class=s2>id</span><span class=dl>"</span><span class=p>:</span> <span class=nx>device</span><span class=p>.</span><span class=nx>id</span>             <span class=c1>//Replace with device id of interest</span>
              <span class=p>},</span>
              <span class=dl>"</span><span class=s2>messageContent</span><span class=dl>"</span><span class=p>:</span> <span class=p>{</span>
                <span class=dl>"</span><span class=s2>contentType</span><span class=dl>"</span><span class=p>:</span> <span class=dl>"</span><span class=s2>SerialIox</span><span class=dl>"</span><span class=p>,</span>
                <span class=dl>"</span><span class=s2>channel</span><span class=dl>"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>               <span class=c1>//Taken from Get&lt;IoxAddOn&gt; call</span>
                <span class=dl>"</span><span class=s2>data</span><span class=dl>"</span><span class=p>:</span> <span class=nx>base64_encoded_byte</span> <span class=c1>//Replace with your data encoded in base64</span>
              <span class=p>},</span>
              <span class=dl>"</span><span class=s2>isDirectionToVehicle</span><span class=dl>"</span><span class=p>:</span> <span class=kc>true</span>
            <span class=p>}</span>
          <span class=p>},</span> <span class=kd>function</span><span class=p>(</span><span class=nx>result</span><span class=p>)</span> <span class=p>{</span>
              <span class=nx>console</span><span class=p>.</span><span class=nf>log</span><span class=p>(</span><span class=dl>"</span><span class=s2>Done: </span><span class=dl>"</span><span class=p>,</span> <span class=nx>result</span><span class=p>);</span>
          <span class=p>},</span> <span class=kd>function</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
              <span class=nx>console</span><span class=p>.</span><span class=nf>error</span><span class=p>(</span><span class=dl>"</span><span class=s2>Failed:</span><span class=dl>"</span><span class=p>,</span> <span class=nx>e</span><span class=p>);</span>
          <span class=p>});)</span>
</code></pre></div></div><p>To send MIME messages from MyGeotab to the external device, please use the following script instead:</p><div class="language-javascript highlighter-rouge"><div class=highlight><pre class=highlight><code>    <span class=nx>api</span><span class=p>.</span><span class=nf>call</span><span class=p>(</span><span class=dl>"</span><span class=s2>Add</span><span class=dl>"</span><span class=p>,</span> <span class=p>{</span>
    <span class=dl>"</span><span class=s2>typeName</span><span class=dl>"</span><span class=p>:</span> <span class=dl>"</span><span class=s2>TextMessage</span><span class=dl>"</span><span class=p>,</span>
    <span class=dl>"</span><span class=s2>entity</span><span class=dl>"</span><span class=p>:{</span>
        <span class=dl>"</span><span class=s2>user</span><span class=dl>"</span><span class=p>:{</span><span class=dl>"</span><span class=s2>id</span><span class=dl>"</span><span class=p>:</span><span class=nx>user</span><span class=p>.</span><span class=nx>id</span><span class=p>},</span>                    <span class=c1>//Replace with user id of interest</span>
        <span class=dl>"</span><span class=s2>device</span><span class=dl>"</span><span class=p>:{</span><span class=dl>"</span><span class=s2>id</span><span class=dl>"</span><span class=p>:</span><span class=nx>device</span><span class=p>.</span><span class=nx>id</span><span class=p>},</span>                <span class=c1>//Replace with device id of interest</span>
        <span class=dl>"</span><span class=s2>messageContent</span><span class=dl>"</span><span class=p>:{</span>
            <span class=dl>"</span><span class=s2>contentType</span><span class=dl>"</span><span class=p>:</span><span class=dl>"</span><span class=s2>MimeContent</span><span class=dl>"</span><span class=p>,</span>
            <span class=dl>"</span><span class=s2>channelNumber</span><span class=dl>"</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span>
            <span class=dl>"</span><span class=s2>mimeType</span><span class=dl>"</span><span class=p>:</span><span class=dl>"</span><span class=s2>text</span><span class=dl>"</span><span class=p>,</span>                    <span class=c1>//Can be changed to any free format text value</span>
			      <span class=dl>"</span><span class=s2>binaryDataPacketDelay</span><span class=dl>"</span><span class=p>:</span><span class=dl>"</span><span class=s2>00:00:03.0000000</span><span class=dl>"</span><span class=p>,</span> <span class=c1>//applies a </span>
            <span class=c1>//configurable delay of up to 5 seconds in between each sequenced message</span>
            <span class=c1>// of a multimessage MIME payload</span>
            <span class=dl>"</span><span class=s2>data</span><span class=dl>"</span><span class=p>:</span><span class=nx>base64_encoded_byte</span> <span class=c1>//Replace with your data encoded in base64</span>
        <span class=p>},</span>
        <span class=dl>"</span><span class=s2>isDirectionToVehicle</span><span class=dl>"</span><span class=p>:</span><span class=kc>true</span><span class=p>},</span>
      <span class=p>},</span> <span class=kd>function</span><span class=p>(</span><span class=nx>result</span><span class=p>)</span> <span class=p>{</span>
          <span class=nx>console</span><span class=p>.</span><span class=nf>log</span><span class=p>(</span><span class=dl>"</span><span class=s2>Done: </span><span class=dl>"</span><span class=p>,</span> <span class=nx>result</span><span class=p>);</span>
      <span class=p>},</span> <span class=kd>function</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
          <span class=nx>console</span><span class=p>.</span><span class=nf>error</span><span class=p>(</span><span class=dl>"</span><span class=s2>Failed:</span><span class=dl>"</span><span class=p>,</span> <span class=nx>e</span><span class=p>);</span>
      <span class=p>});</span>
</code></pre></div></div><h2 id=appendices>Appendices</h2><h3 id=appendix-a-raw-message-data-example-for-iox-usb--iox-rs232>Appendix A: Raw Message Data Example for IOX-USB &amp; IOX-RS232</h3><div class="language-javascript highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nx>Handshake</span> <span class=nx>Sync</span> <span class=k>from</span> <span class=nx>External</span> <span class=nx>Device</span>
<span class=mh>0x55</span><span class=p>...</span> <span class=mh>0x55</span><span class=p>...</span> <span class=mh>0x55</span>

<span class=nx>Handshake</span> <span class=nx>Request</span> <span class=k>from</span> <span class=nx>GO</span> <span class=nx>device</span>
<span class=mh>0x02</span><span class=p>,</span> <span class=mh>0x01</span><span class=p>,</span> <span class=mh>0x00</span><span class=p>,</span> <span class=mh>0x03</span><span class=p>,</span> <span class=mh>0x08</span><span class=p>,</span> <span class=mh>0x03</span>

<span class=nx>Handshake</span> <span class=nx>Confirmation</span> <span class=k>from</span> <span class=nx>External</span> <span class=nc>Device </span><span class=p>(</span><span class=mi>4208</span> <span class=nx>is</span> <span class=nx>a</span> <span class=nx>test</span> <span class=nx>Device</span> <span class=nx>ID</span><span class=p>)</span>
<span class=p>(</span><span class=nx>Device</span> <span class=nx>ID</span><span class=p>:</span> <span class=mi>4208</span> <span class=o>=</span> <span class=mh>0x00001070</span><span class=p>)</span>
<span class=mh>0x02</span><span class=p>,</span> <span class=mh>0x81</span><span class=p>,</span> <span class=mh>0x04</span><span class=p>,</span> <span class=mh>0x70</span><span class=p>,</span> <span class=mh>0x10</span><span class=p>,</span> <span class=mh>0x00</span><span class=p>,</span> <span class=mh>0x00</span><span class=p>,</span> <span class=mh>0x07</span><span class=p>,</span> <span class=mh>0x18</span><span class=p>,</span> <span class=mh>0x03</span>

<span class=nx>Third</span><span class=o>-</span><span class=nx>Party</span> <span class=nx>Data</span> <span class=k>from</span> <span class=nx>External</span> <span class=nx>Device</span>
<span class=p>(</span><span class=nx>Status</span> <span class=nx>Data</span> <span class=nx>ID</span><span class=p>:</span> <span class=mi>35349</span> <span class=o>=</span> <span class=mh>0x8A15</span><span class=p>,</span> <span class=nx>Data</span> <span class=nx>Value</span><span class=p>:</span> <span class=mi>200</span> <span class=o>=</span> <span class=mh>0x000000C8</span><span class=p>)</span>
<span class=mh>0x02</span><span class=p>,</span> <span class=mh>0x80</span><span class=p>,</span> <span class=mh>0x06</span><span class=p>,</span> <span class=mh>0x15</span><span class=p>,</span> <span class=mh>0x8A</span><span class=p>,</span> <span class=mh>0xC8</span><span class=p>,</span> <span class=mh>0x00</span><span class=p>,</span> <span class=mh>0x00</span><span class=p>,</span> <span class=mh>0x00</span><span class=p>,</span> <span class=mh>0xEF</span><span class=p>,</span> <span class=mh>0x8C</span><span class=p>,</span> <span class=mh>0x03</span>

<span class=nx>Third</span><span class=o>-</span><span class=nx>Party</span> <span class=nx>Data</span> <span class=nx>Acknowledge</span> <span class=k>from</span> <span class=nx>GO</span> <span class=nx>device</span>
<span class=mh>0x02</span><span class=p>,</span> <span class=mh>0x02</span><span class=p>,</span> <span class=mh>0x00</span><span class=p>,</span> <span class=mh>0x04</span><span class=p>,</span> <span class=mh>0x0A</span><span class=p>,</span> <span class=mh>0x03</span>
</code></pre></div></div><h3 id=appendix-b-sample-message-flow-for-iox-usb--iox-rs232>Appendix B: Sample Message Flow for IOX-USB &amp; IOX-RS232</h3><p><img src=/sdk/hardware/addon-protocols/rs232-usb_0.png alt=""></p><h3 id=appendix-c-using-binary-data-messages-to-transfer-mime-data>Appendix C: Using Binary Data Messages to Transfer MIME Data</h3><p>MIME-type data can be transferred from an external device to the server via the GO device. Readers are encouraged to read the <a href="https://docs.google.com/document/d/1a8XCgpmEEbx6KxnFxhu40XULWr2uZeAG_5aKkm-Mjnw/edit?usp=sharing">Geotab MIME Data Exchange Example IOX-RS232</a> to better understand the subsequent protocol. The Message Flow is similar to that outlined in <a href=#appendix-b-sample-message-flow-for-iox-usb--iox-rs232>Appendix B</a>, with the following variations:</p><ol><li>Third-Party Data Message is instantiated as Binary Data Packet Containing MIME Type Data, whose format is <a href=#binary-data-packets-containing-mime-type-data>such</a></li><li>Data Acknowledge Message is instantiated as Binary Data Response (0x22)</li><li>After the last Binary Data Response, add a Binary Data Packet Containing MIME Type Acknowledge, whose format is <a href=#binary-data-packet-containing-mime-type-acknowledge>such</a>. Once the complete payload of the MIME message is successfully received by MyGeotab, a MIME ACK will be sent back to the GO device.</li></ol><p>MIME-type data will be saved as a MIME-type blob on the server. The blob can be accessed through the software SDK as a <a href=/software/api/reference/#TextMessage>TextMessage</a>. The SDK can also be used to send MIME-type data from the server to an external device connected to a GO device.</p><h3 id=the-mime-type-protocol>The MIME Type Protocol:</h3><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>MIME type length = x</td><td>1</td><td>0</td></tr><tr><td>MIME type in ASCII</td><td>x</td><td>1</td></tr><tr><td>Payload Length = y</td><td>4</td><td>1 + x</td></tr><tr><td>Binary Payload</td><td>y</td><td>5 + x</td></tr></tbody></table><p>The MIME protocol will be an inner protocol within the binary data packet messages. The MIME data will be broken into 250 byte chunks and sent within binary data packet messages. The first byte within the message will be a sequence counter; all remaining bytes will contain the MIME data.</p><h3 id=binary-data-packets-containing-mime-type-data>Binary Data Packets Containing MIME Type Data</h3><p>This is an example of binary data packets for image data transferred using the MIME type “image/jpeg”. The image size is 83000 bytes.</p><p><strong>First packet:</strong></p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x86</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 250</td><td>1</td><td>2</td></tr><tr><td><strong>Sequence number = 0</strong></td><td><strong>1</strong></td><td><strong>3</strong></td></tr><tr><td><strong>MIME type length = 10</strong></td><td><strong>1</strong></td><td><strong>4</strong></td></tr><tr><td><strong>MIME type (“image/jpeg”)</strong></td><td><strong>10</strong></td><td><strong>5</strong></td></tr><tr><td><strong>Payload Length = 83000</strong></td><td><strong>4</strong></td><td><strong>15</strong></td></tr><tr><td><strong>Binary Payload (the first 234 bytes)</strong></td><td><strong>234</strong></td><td><strong>19</strong></td></tr><tr><td>Checksum</td><td>2</td><td>253</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>255</td></tr></tbody></table><p><strong>Second packet:</strong></p><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x86</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 250</td><td>1</td><td>2</td></tr><tr><td><strong>Sequence number = 1</strong>*</td><td><strong>1</strong></td><td><strong>3</strong></td></tr><tr><td><strong>Binary Payload (the next 249 bytes)</strong></td><td><strong>249</strong></td><td><strong>4</strong></td></tr><tr><td>Checksum</td><td>2</td><td>253</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>255</td></tr></tbody></table><p>* If the sequence number reaches 255 (0xFF) and more packets need to be sent, the sequence number must reset to a value of 1 and continue counting. <strong>A sequence number of 0 must only be used for the first packet.</strong></p><h3 id=binary-data-packet-containing-mime-type-acknowledge>Binary Data Packet Containing MIME Type Acknowledge</h3><table><thead><tr><th> </th><th>Bytes</th><th>Position</th></tr></thead><tbody><tr><td>STX (0x02)</td><td>1</td><td>0</td></tr><tr><td>Message Type = 0x23</td><td>1</td><td>1</td></tr><tr><td>Message Body Length = 9+x</td><td>1</td><td>2</td></tr><tr><td>Sequence Number = 0</td><td>1</td><td>3</td></tr><tr><td>MIME type length = 3</td><td>1</td><td>4</td></tr><tr><td>MIME type in ASCII = ‘ACK’</td><td>3</td><td>5</td></tr><tr><td>Payload Length = x</td><td>4</td><td>8</td></tr><tr><td>Total Number of Payload Bytes Received</td><td>x</td><td>12</td></tr><tr><td>Checksum</td><td>2</td><td>12+x</td></tr><tr><td>ETX (0x03)</td><td>1</td><td>14+x</td></tr></tbody></table><h3 id=appendix-d-using-protobuf-messages-to-communicate-by-using-0x8c-0x26>Appendix D: Using protobuf Messages to Communicate by using 0x8C, 0x26</h3><p><a name=pubsub-proto></a></p><p align=right><a href=#top>Top</a></p><h4 id=pubsub-protocol-documentation>PUB/Sub Protocol Documentation</h4><h4 id=introduction>Introduction</h4><p>This Proto file defines message payloads for the Third party Message Type 0x8C (Protobuf Data Packet from IOX to GO) and Message Type 0x26 (Protobuf Data Packet from GO to IOX). The protobufs defined here follows a simple pub/sub protocol, where a third party IOX device can subscribe to one of the supported TOPICs (enum Topic) and receive the desired information from the GO. The appropriate master switch needs to be set to use the pub/sub functionality correctly.</p><p>The list of some of the (unordered) messages and their use is as mentioned below.</p><ol><li><p>To get a list of all the subscribable topics: The external device needs to send an IoxToGo message with the pub_sub.list_avail_topics field set. The GO device responds with an IoxFromGo message with the pub_sub.topic_info_list field.</p></li><li><p>To subscribe to a topic: The external device needs to send an IoxToGo message with the pub_sub.sub field set. The Go device responds with an IoxFromGo message with the pub_sub.sub_ack.result field containing ‘SUB_ACK_RESULT_SUCCESS’.</p></li><li><p>To get a list of subscribed topics: The external device needs to send a IoxToGo message with the pub_sub.msg.list_subs field set. The GO device responds with an IoxFromGo message with the pub_sub.topic_list field.</p></li><li><p>How the external device gets published information for subscribed topics: When there is an update to a subscribed topic, the GO device sends the update in an IoxFromGo message with the pub_sub.pub field set.</p></li><li><p>To remove a topic from the subscription: The external device needs to send a IoxToGo message with the pub_sub.msg.unsub field set. The Go device responds with an IoxFromGo message with the pub_sub.sub_ack.result field containing a ‘SUB_ACK_RESULT_SUCCESS’.</p></li><li><p>To clear the entire subscription list: The external device needs to send a IoxToGo message with the pub_sub.msg.clear_subs field set. The Go device responds with an IoxFromGo message with the pub_sub.clear_subs_ack.result field containing a ‘CLEAR_SUBS_ACK_RESULT_SUCCESS’.</p></li></ol><p>Note: The a ‘PubSubFromGo’ message with the ‘sub_ack’ or the ‘clear_subs_ack’ field can contain the source of error when a request cannot be performed successfully.</p><p>Note: The subscription is cleared if the GO or the IOX lost power or if the IOX is disconnected from the GO device.</p><p>Note, If the master switch is not enabled: - An IOX will not able to subscribe any topic. - The list of subscribable topics will be empty.</p><h4 id=example-message-from-iox-to-go>Example Message from IOX to GO:</h4><ul><li>0x8C is a message type sent from an external device to GO, to either subscribe or to get a list of topics or to get a list of subscribed topics etc.</li><li>The payload of the 0x8C message is the Pub/Sub message, encoded with Protobuf using nanopb.</li><li>An example usage of the 0x8C message to subscribe to one of the topics like TOPIC_ACCEL is as described below.<ul><li>0x8C fields values:<br>STX=0x02, MessageId = 0x8C, Data payload: Protobuf encoding for message IoxToGo (detailed below), ETX=0x03<br><div class="language-js highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nx>IoxToGo</span> <span class=nx>message</span> <span class=o>=</span> <span class=p>{</span> 
    <span class=p>.</span><span class=nx>which_msg</span> <span class=o>=</span> <span class=nx>IoxToGo_pub_sub_tag</span><span class=p>,</span> 
    <span class=p>.</span><span class=nx>pub_sub</span> <span class=o>=</span> <span class=p>{</span> <span class=p>.</span><span class=nx>which_msg</span> <span class=o>=</span> <span class=nx>PubSubToGo_sub_tag</span><span class=p>,</span> <span class=p>.</span><span class=nx>sub</span> <span class=o>=</span> <span class=p>{</span> <span class=p>.</span><span class=nx>topic</span> <span class=o>=</span> <span class=nx>TOPIC_ACCEL</span> <span class=p>}}</span>
<span class=p>};</span>
<span class=nx>IoxToGo</span> <span class=nx>message</span> <span class=o>=</span> <span class=p>{</span> <span class=p>.</span><span class=nx>which_msg</span> <span class=o>=</span> <span class=mh>0x01</span><span class=p>,</span> <span class=p>.</span><span class=nx>pub_sub</span> <span class=o>=</span> <span class=p>{</span> <span class=p>.</span><span class=nx>which_msg</span> <span class=o>=</span> <span class=mh>0x01</span><span class=p>,</span> <span class=p>.</span><span class=nx>sub</span> <span class=o>=</span> <span class=p>{</span> <span class=p>.</span><span class=nx>topic</span> <span class=o>=</span> <span class=mh>0x01</span> <span class=p>}}};</span>
</code></pre></div></div></li><li>So, IoxToGo message, i.e. Data Payload, after Protobuf encoding: {0x0A 0x04 0x0A 0x02 0x08 0x01}</li><li>This leads to, IoxToGo message length after Protobuf encoding to be 0x06.</li><li>Checksum calculation from (0x02 0x8C 0x06, 0x0A 0x04 0x0A 0x02 0x08 0x01) = (0xB7 0x28)</li><li><p>The result Data Payload = (0x06 0x0A 0x04 0x0A 0x02 0x08 0x01 0xB7 0x28)</p></li><li>The final byte stream that the external device would send to GO, in order to subscribe for the TOPIC_ACCEL should be:<br>&lt;0x02 0x8C 0x06 0x0A 0x04 0x0A 0x02 0x08 0x01 0xB7 0x28 0x03&gt;</li></ul></li></ul><h4 id=example-responseevent-from-go-to-iox>Example Response/Event from GO to IOX:</h4><ul><li>0x26 is a message type sent from GO to an external device, to either acknowledge a subscription request or other request sent from the external device.</li><li>An example usage of the 0x26 message is to acknowledge a request to subscribe to a topic such as TOPIC_ACCEL, the message is described as below.<ul><li>The external device will receive a 0x26 message from the GO device such as:<br>(0x02 0x26 0x08 0x0A 0x06 0x0A 0x04 0x08 0x01 0x10 0x01 0x68 0xE8 0x03)</li><li><p>The extracted IoxFromGo message with Protobuf encoding = (0x0A 0x06 0x0A 0x04 0x08 0x01 0x10 0x01)</p></li><li>The IoxFromGo message after decoding =<div class="language-js highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>{</span>
    <span class=p>.</span><span class=nx>which_msg</span> <span class=o>=</span> <span class=mh>0x01</span><span class=p>,</span> 
    <span class=p>.</span><span class=nx>pub_sub</span> <span class=o>=</span> <span class=p>{</span>
        <span class=p>.</span><span class=nx>which_msg</span> <span class=o>=</span> <span class=mh>0x01</span><span class=p>,</span> 
        <span class=p>.</span><span class=nx>suback</span> <span class=o>=</span> <span class=p>{</span> <span class=p>.</span><span class=nx>result</span> <span class=o>=</span> <span class=mh>0x01</span><span class=p>,</span> <span class=p>.</span><span class=nx>topic</span> <span class=o>=</span> <span class=mh>0x01</span> <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div></div></li><li>The IoxFromGo message can be interpreted as<div class="language-js highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>{</span> 
    <span class=p>.</span><span class=nx>which_msg</span> <span class=o>=</span> <span class=nx>IoxFromGo_pub_sub_tag</span><span class=p>,</span> 
    <span class=p>.</span><span class=nx>pub_sub</span> <span class=o>=</span> <span class=p>{</span>
        <span class=p>.</span><span class=nx>which_msg</span> <span class=o>=</span> <span class=nx>PubSubFromGo_sub_ack_tag</span><span class=p>,</span> 
        <span class=p>.</span><span class=nx>suback</span> <span class=o>=</span> <span class=p>{</span> <span class=p>.</span><span class=nx>result</span> <span class=o>=</span> <span class=nx>SubAck_SUB_ACK_RESULT_SUCCESS</span><span class=p>,</span> <span class=p>.</span><span class=nx>topic</span> <span class=o>=</span> <span class=nx>TOPIC_ACCEL</span> <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span> 
</code></pre></div></div></li></ul></li></ul><p><a name=-Topic></a></p><h3 id=topic>Topic</h3><p>The ID of all the subscribable topics. @exclude Includes status data IDs @exclude The comment is CSV format: 1st field is the type, 2nd field is the unit, 3rd field is the extra information (if any).</p><table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody><tr><td>TOPIC_UNSPECIFIED</td><td>0</td><td>Invalid topic,, (DO NOT USE)</td></tr><tr><td>TOPIC_ACCEL</td><td>1</td><td>Vec3, m/s^2, To be implemented</td></tr><tr><td>TOPIC_GPS</td><td>2</td><td>Gps, Lat/Long: degrees. speed: km/h, To be implemented</td></tr><tr><td>TOPIC_BATTERY_VOLTAGE</td><td>3</td><td>float, Volt, To be implemented</td></tr><tr><td>TOPIC_VIN</td><td>4</td><td>String, Unitless</td></tr><tr><td>TOPIC_GEAR</td><td>5</td><td>32 bit signed int, Unitless, 1=Reverse. 0=Neutral. 1 to 8:Nth gear. 126=Park. 127=Drive. 129=Intermediate. 130=Unknown.</td></tr><tr><td>TOPIC_ENGINE_SPEED</td><td>6</td><td>32 bit float, RPM</td></tr><tr><td>TOPIC_ENGINE_LOAD</td><td>7</td><td>32 bit float, %</td></tr><tr><td>TOPIC_ODOMETER</td><td>8</td><td>32 bit float, km</td></tr><tr><td>TOPIC_ACCEL_PEDAL_PERCENTAGE</td><td>9</td><td>32 bit float, %</td></tr><tr><td>TOPIC_COOLANT_TEMP</td><td>10</td><td>32 bit float, degC</td></tr><tr><td>TOPIC_DOC_INTAKE_GAS_TEMP</td><td>11</td><td>32 bit float, degC</td></tr><tr><td>TOPIC_DOC_OUTLET_GAS_TEMP</td><td>12</td><td>32 bit float, degC</td></tr><tr><td>TOPIC_FUELTANK1_UNITS</td><td>13</td><td>32 bit float, Litres</td></tr><tr><td>TOPIC_FUELTANK2_UNITS</td><td>14</td><td>32 bit float, Litres</td></tr><tr><td>TOPIC_FUELTANK1_PERCENT</td><td>15</td><td>32 bit float, %</td></tr><tr><td>TOPIC_FUELTANK2_PERCENT</td><td>16</td><td>32 bit float, %</td></tr><tr><td>TOPIC_STATE_OF_CHARGE</td><td>17</td><td>32 bit float, %</td></tr><tr><td>TOPIC_ENGINE_ROAD_SPEED</td><td>18</td><td>32 bit float, km/h</td></tr><tr><td>TOPIC_VEHICLE_ACTIVE</td><td>19</td><td>32 bit signed int, Unitless, 0=Ignition Off. 1=Ignition On.</td></tr><tr><td>TOPIC_DRIVER_SEATBELT</td><td>20</td><td>32 bit signed int, Unitless, 0=Buckled. 1=Unbuckled.</td></tr><tr><td>TOPIC_LEFT_TURN_SIGNAL</td><td>21</td><td>32 bit signed int, Unitless, 0=Off. 1=On</td></tr><tr><td>TOPIC_RIGHT_TURN_SIGNAL</td><td>22</td><td>32 bit signed int, Unitless, 0=Off. 1=On</td></tr><tr><td>TOPIC_EV_CHARGING_STATE</td><td>23</td><td>32 bit signed int, Unitless, 0=Not Charging. 1=AC charging. 2=DC charging.</td></tr><tr><td>TOPIC_PARK_BRAKE</td><td>24</td><td>32 bit signed int, Unitless, 0=Off. 1=On. 2=Error.</td></tr></tbody></table><p><a name=-ClearSubsAck></a></p><h3 id=clearsubsack>ClearSubsAck</h3><p>GO to IOX: 3rd level of an IoxFromGo message. This is a response to a Clear subscription request.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>result</td><td><a href=#ClearSubsAck-Result>ClearSubsAck.Result</a></td><td> </td><td>This is the result of a Clear subscription request.</td></tr></tbody></table><p><a name=-Gps></a></p><h3 id=gps>Gps</h3><p>GO to IOX: This structure is used for publishing the output of the GPS.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>latitude</td><td>float</td><td> </td><td>Latitude, in degrees (+ve = north, -ve = south)</td></tr><tr><td>longitude</td><td>float</td><td> </td><td>Longitude, in degrees (+ve = east, -ve = west)</td></tr><tr><td>speed</td><td>float</td><td> </td><td>Speed, in km/h</td></tr><tr><td>heading</td><td>float</td><td> </td><td>Heading, in degrees</td></tr><tr><td>gps_time</td><td>google.protobuf.Timestamp</td><td> </td><td>Time the GPS data is sampled.</td></tr></tbody></table><p><a name=-IoxFromGo></a></p><h3 id=ioxfromgo>IoxFromGo</h3><p>GO to IOX: Top level of a pub/sub message. An IoxFromGo message can only contain one PubSubFromGo message.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>pub_sub</td><td><a href=#PubSubFromGo>PubSubFromGo</a></td><td> </td><td> </td></tr></tbody></table><p><a name=-IoxToGo></a></p><h3 id=ioxtogo>IoxToGo</h3><p>IOX to GO: Top level of a pub/sub message. An IoxToGo message can only contain one PubSubToGo message.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>pub_sub</td><td><a href=#PubSubToGo>PubSubToGo</a></td><td> </td><td> </td></tr></tbody></table><p><a name=-PubSubFromGo></a></p><h3 id=pubsubfromgo>PubSubFromGo</h3><p>GO to IOX: 2nd level of an IoxFromGo message. This level identifies the type of information/response.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>sub_ack</td><td><a href=#SubAck>SubAck</a></td><td> </td><td>Reply to sub and unsub, indicating success/failure</td></tr><tr><td>topic_list</td><td><a href=#TopicList>TopicList</a></td><td> </td><td>Reply to list_subs, containing all subscribed topics</td></tr><tr><td>topic_info_list</td><td><a href=#TopicInfoList>TopicInfoList</a></td><td> </td><td>Reply to list_avail_topics, containing info on all supported topics</td></tr><tr><td>pub</td><td><a href=#Publish>Publish</a></td><td> </td><td>Data sample published by the GO</td></tr><tr><td>clear_subs_ack</td><td><a href=#ClearSubsAck>ClearSubsAck</a></td><td> </td><td>Reply to clear_subs, indicating success/failure</td></tr></tbody></table><p><a name=-PubSubToGo></a></p><h3 id=pubsubtogo>PubSubToGo</h3><p>IOX to GO: 2nd level of an IoxToGo message. This level identifies the type of requests to the subscription.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>sub</td><td><a href=#Subscribe>Subscribe</a></td><td> </td><td>Subscribe request: Add a topic to the subscription.</td></tr><tr><td>unsub</td><td><a href=#Unsubscribe>Unsubscribe</a></td><td> </td><td>Unsubscribe request: Remove the topic from the subscription.</td></tr><tr><td>list_subs</td><td>google.protobuf.Empty</td><td> </td><td>Subscribed list request: gps_time all subscribed topics.</td></tr><tr><td>clear_subs</td><td>google.protobuf.Empty</td><td> </td><td>Clear subscription request: Clear all the subscribed topics from the subscription.</td></tr><tr><td>list_avail_topics</td><td>google.protobuf.Empty</td><td> </td><td>Subscribable list request: Get the list of all subscribable topics.</td></tr></tbody></table><p><a name=-Publish></a></p><h3 id=publish>Publish</h3><p>GO to IOX: 3nd level of an IoxFromGo message. The Go device sends this message for each subscribed topic when an update to the status of the topic is available.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>time</td><td>google.protobuf.Timestamp</td><td> </td><td>Time since 1970-01-01 00:00:00 UTC.</td></tr><tr><td>topic</td><td><a href=#Topic>Topic</a></td><td> </td><td>ID of the subscribed topic this message contains.</td></tr><tr><td>bool_value</td><td>bool</td><td> </td><td> </td></tr><tr><td>int_value</td><td>int32</td><td> </td><td> </td></tr><tr><td>uint_value</td><td>uint32</td><td> </td><td> </td></tr><tr><td>float_value</td><td>float</td><td> </td><td> </td></tr><tr><td>string_value</td><td>string</td><td> </td><td>Used for VIN (17 digits)</td></tr><tr><td>vec3_value</td><td><a href=#Vec3>Vec3</a></td><td> </td><td>Used for acceleration</td></tr><tr><td>gps_value</td><td><a href=#Gps>Gps</a></td><td> </td><td>Used for GPS output.</td></tr></tbody></table><p><a name=-SubAck></a></p><h3 id=suback>SubAck</h3><p>GO to IOX: 3nd level of a IoxFromGo message. This structure contains a response to a Subscribe request or an Unsubscribe request.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>result</td><td><a href=#SubAck-Result>SubAck.Result</a></td><td> </td><td>The result of a subscribe request or an unsubscribe request.</td></tr><tr><td>topic</td><td><a href=#Topic>Topic</a></td><td> </td><td>The topic specified in the request.</td></tr></tbody></table><p><a name=-Subscribe></a></p><h3 id=subscribe>Subscribe</h3><p>IOX to GO: 3rd level of an IoxToGo message. Subscribe request: An external device sends this message to subscribe an available topic.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>topic</td><td><a href=#Topic>Topic</a></td><td> </td><td>ID of the topic the IOX wishes to subscribe.</td></tr></tbody></table><p><a name=-TopicInfo></a></p><h3 id=topicinfo>TopicInfo</h3><p>GO to IOX: This is part of the response to the Subscribable list request message. This structure contains the information of one subscribable topics.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>topic</td><td><a href=#Topic>Topic</a></td><td> </td><td> </td></tr></tbody></table><p><a name=-TopicInfoList></a></p><h3 id=topicinfolist>TopicInfoList</h3><p>GO to IOX: 3rd level of an IoxFromGo message. This is a response to the Subscribable list request message. This structure contains the information of all subscribable topics.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>topics</td><td><a href=#TopicInfo>TopicInfo</a></td><td>repeated</td><td>array of topic information, each from a subscribable topic.</td></tr></tbody></table><p><a name=-TopicList></a></p><h3 id=topiclist>TopicList</h3><p>GO to IOX: 3rd level of an IoxFromGo message. This is a response to the Subscribed list request message. This structure provides the list of all the subscribed topics.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>topics</td><td><a href=#Topic>Topic</a></td><td>repeated</td><td>An array of topics.</td></tr></tbody></table><table><tbody><tr><td>array of IDs, each from a subscribed topic.</td></tr></tbody></table><p><a name=-Unsubscribe></a></p><h3 id=unsubscribe>Unsubscribe</h3><p>IOX to GO: 3rd level of an IoxToGo message. Unsubscribe request: An external device sends this message to unsubscribe a topic.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>topic</td><td><a href=#Topic>Topic</a></td><td> </td><td>ID of a subscribed topic, the IOX wishes to removed.</td></tr></tbody></table><p><a name=-Vec3></a></p><h3 id=vec3>Vec3</h3><p>GO to IOX: This structure is used for publishing the output of the accelerometer.</p><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody><tr><td>x</td><td>float</td><td> </td><td>Output of the X-axis.</td></tr><tr><td>y</td><td>float</td><td> </td><td>Output of the Y-axis.</td></tr><tr><td>z</td><td>float</td><td> </td><td>Output of the Z-axis.</td></tr></tbody></table><p><a name=-ClearSubsAck-Result></a></p><h3 id=clearsubsackresult>ClearSubsAck.Result</h3><p>Possible result of a Clear subscription request.</p><table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody><tr><td>CLEAR_SUBS_ACK_RESULT_UNSPECIFIED</td><td>0</td><td>Not used. ClearSubAck will never return a result = zero.</td></tr><tr><td>CLEAR_SUBS_ACK_RESULT_SUCCESS</td><td>1</td><td>Clear subscription succeeded</td></tr><tr><td>CLEAR_SUBS_ACK_RESULT_UNAVAILABLE</td><td>2</td><td>Clear subscription failed: The subscription is owned by another IOX.</td></tr><tr><td>CLEAR_SUBS_ACK_RESULT_DISABLED</td><td>3</td><td>Clear subscription failed: Pub/Sub is not enabled by Master Switch.</td></tr></tbody></table><p><a name=-SubAck-Result></a></p><h3 id=subackresult>SubAck.Result</h3><p>Possible result returned from a Subscribe request or an Unsubscribe request.</p><table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody><tr><td>SUB_ACK_RESULT_UNSPECIFIED</td><td>0</td><td>Not used; zero is never returned as a Result.</td></tr><tr><td>SUB_ACK_RESULT_SUCCESS</td><td>1</td><td>Subscription success</td></tr><tr><td>SUB_ACK_RESULT_FAILED</td><td>2</td><td>Generic subscription failure</td></tr><tr><td>SUB_ACK_RESULT_UNKNOWN_TOPIC</td><td>3</td><td>Subscribe fails if an unknown topic is specified</td></tr><tr><td>SUB_ACK_RESULT_TOPIC_ALREADY_SUBBED</td><td>4</td><td>Subscribe fails if the topic has already been subscribed to</td></tr><tr><td>SUB_ACK_RESULT_TOPIC_NOT_SUBBED</td><td>5</td><td>Unsubscribe fails if the topic has not been subscribed to</td></tr><tr><td>SUB_ACK_RESULT_UNAVAILABLE</td><td>6</td><td>Unsubscribe fails if the subscription belongs to another IOX.</td></tr><tr><td>SUB_ACK_RESULT_DISABLED</td><td>7</td><td>IOX Pub/Sub is not enabled by Master Switch.</td></tr></tbody></table></div></article></div></div><footer class="footer mt-auto py-3"><a href=https://www.geotab.com/security/ target=_blank>Security</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a href=https://docs.google.com/document/d/1sVygLN02w2xNovFY4q5vw-oAzfYxCd7WLhyToElgDbs/pub rel=noopener target=_blank>Privacy Policy</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a href=/myadmin-sdk/introduction/ >MyAdmin SDK</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a href=https://docs.google.com/document/d/1jA8Qc8WZMhmaqdjd8Ng8rY4iMI073xCfLNt_DSP72TQ/edit rel=noopener target=_blank>End User Agreement</a><div class="copyright-container copyright-white-text">Copyright &copy; 2017 Geotab</div></footer></main></div><script src=/sdk/assets/javascript/index.js></script></body></html>