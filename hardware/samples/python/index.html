<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Python Code Samples | MyGeotab SDK</title><meta name=generator content="Jekyll v3.6.2"><meta property=og:title content="Python Code Samples"><meta name=author content="The Geotab Team"><meta property=og:locale content=en_US><meta name=description content="The Geotab SDK (Software Development Kit) is a powerful set of tools for automating tasks and working with the data in MyGeotab. Within these documents you will find information on how to develop JavaScript and C# applications, build and integrate Add-Ins and use MyGeotab with third-party systems."><meta property=og:description content="The Geotab SDK (Software Development Kit) is a powerful set of tools for automating tasks and working with the data in MyGeotab. Within these documents you will find information on how to develop JavaScript and C# applications, build and integrate Add-Ins and use MyGeotab with third-party systems."><link rel=canonical href=https://geotab.github.io/sdk/hardware/samples/python/ ><meta property=og:url content=https://geotab.github.io/sdk/hardware/samples/python/ ><meta property=og:site_name content="MyGeotab SDK"><script type=application/ld+json>{"description":"The Geotab SDK (Software Development Kit) is a powerful set of tools for automating tasks and working with the data in MyGeotab. Within these documents you will find information on how to develop JavaScript and C# applications, build and integrate Add-Ins and use MyGeotab with third-party systems.","author":{"@type":"Person","name":"The Geotab Team"},"@type":"WebPage","url":"https://geotab.github.io/sdk/hardware/samples/python/","headline":"Python Code Samples","@context":"http://schema.org"}</script><link rel=stylesheet href=/sdk/assets/stylesheets/style-64faf25016.min.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=/sdk/assets/images/touch/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/sdk/assets/favicon.ico></head><body><header><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"><a class=navbar-brand href=/sdk/ ><img src=/sdk/assets/images/pillar.svg width=30 height=30 class="d-inline-block align-top" alt=""> MyGeotab SDK </a><button class="navbar-toggler d-lg-none" id=toggler type=button><span class=navbar-toggler-icon></span></button></nav></header><div id=wrapper><div id=sidebar-wrapper class=bg-light><nav id=sidebar class=sidebar><h4>Software</h4><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/introduction/ >Introduction</a></li><h5>Guides</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/guides/getting-started/ >Getting Started</a></li><li class=nav-link><a href=/sdk/software/guides/concepts/ >Concepts</a></li><li class=nav-link><a href=/sdk/software/guides/using-in-javascript/ >Using in Javascript</a></li><li class=nav-link><a href=/sdk/software/guides/using-in-dotnet/ >Using in dotnet</a></li><li class=nav-link><a href=/sdk/software/guides/data-feed>Data Feed</a></li><li class=nav-link><a href=/sdk/software/guides/mygeotab-urls/ >Using MyGeotab URLs</a></li><li class=nav-link><a href=/sdk/software/guides/go-device-logging/ >GO Device Logging</a></li><li class=nav-link><a href=/sdk/software/guides/third-party-devices/ >Using Third-Party Devices</a></li><li class=nav-link><a href=/sdk/software/guides/developing-addins/ >Devloping Add-Ins</a></li><li class=nav-link><a href=/sdk/software/guides/drive-addins/ >Geotab Drive Add-Ins</a></li></ul><h5>API</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/api/reference/ >Reference</a></li><li class=nav-link><a href=/sdk/software/api/runner.html>Runner</a></li><li class=nav-link><a href=/sdk/software/api/clients/ >API Clients</a></li></ul><h5>Code Samples</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/js-samples/ >Javascript Examples</a></li><li class=nav-link><a href=https://github.com/Geotab/sdk-dotnet-samples#dotnet-examples>Dotnet Examples</a></li><li class=nav-link><a href=https://github.com/geotab/sdk-addin-examples>Add-in Examples</a></li></ul></ul><h4>Hardware</h4><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/introduction/ >Introduction</a></li><h5>Add-on Protocols</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/addon-protocols/rs232-usb/ >RS232 & USB</a></li><li class=nav-link><a href=/sdk/hardware/addon-protocols/can/ >CAN</a></li><li class=nav-link><a href=/sdk/hardware/addon-protocols/ble/ >BLE</a></li></ul><h5>Code Samples</h5><ul class="nav flex-column"><li class="nav-link active"><a href=/sdk/hardware/samples/python/ >Python</a></li><li class=nav-link><a href=https://github.com/Geotab/android-external-device-example>Andoid</a></li></ul><h5>Developing an IOX</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/developing-an-iox/hardware-design-guide/ >Hardware Design Guide</a></li><li class=nav-link><a href=/sdk/hardware/developing-an-iox/messaging-protocol/ >Messaging Protocol</a></li></ul></ul><h4>Resources</h4><ul class="nav flex-column"><li class=nav-link><a href=https://helpdesk.geotab.com/hc/en-us/community/topics/200655183-SDK-Forum>Forums</a></li><li class=nav-link><a href=https://www.geotab.com/dev-channel/ >Dev Channel</a></li><li class=nav-link><a href=/sdk/resources/new/ >What's New</a></li></ul></nav></div><main role=main><div class=container-fluid><div class=row><article class=col-md-12><header><a href=https://github.com/Geotab/sdk/blob/master/src/hardware/samples/python.md class="float-right small"><svg class="octicon octicon-mark-github" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg> Edit on GitHub</a><h1>Python Code Samples</h1></header><div><p>All Python sample code was tested using Python 3.5.2 (64-bit) running under Windows 10. You will need to install pySerial to test these samples.</p><p><code>pip install pyserial</code></p><h2 id=spoof-an-external-device>Spoof an External Device</h2><p>Run this python script while connected to a GO device via an IOX-RS232</p><div class=highlight><pre><code class=language-py data-lang=py><span class=kn>import</span> <span class=nn>serial</span>
<span class=kn>import</span> <span class=nn>time</span>

<span class=k>def</span> <span class=nf>checksum</span><span class=p>(</span><span class=n>message</span><span class=p>):</span>
 <span class=n>b0</span> <span class=o>=</span> <span class=mi>0</span>
 <span class=n>b1</span> <span class=o>=</span> <span class=mi>0</span>

 <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>message</span><span class=p>)):</span>
  <span class=n>b0</span> <span class=o>+=</span> <span class=nb>int</span><span class=p>(</span><span class=n>message</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
  <span class=n>b1</span> <span class=o>+=</span> <span class=n>b0</span>
 <span class=k>return</span> <span class=nb>bytes</span><span class=p>([</span><span class=n>b0</span><span class=o>%</span><span class=mi>256</span><span class=p>,</span> <span class=n>b1</span><span class=o>%</span><span class=mi>256</span><span class=p>])</span>

<span class=k>def</span> <span class=nf>createMessage</span><span class=p>(</span><span class=n>message</span><span class=p>):</span>
 <span class=n>message</span> <span class=o>=</span> <span class=nb>bytes</span><span class=p>([</span><span class=mh>0x02</span><span class=p>])</span> <span class=o>+</span> <span class=n>message</span>
 <span class=n>check</span> <span class=o>=</span> <span class=n>checksum</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
 <span class=n>message</span> <span class=o>=</span> <span class=n>message</span> <span class=o>+</span> <span class=n>check</span> <span class=o>+</span> <span class=nb>bytes</span><span class=p>([</span><span class=mh>0x03</span><span class=p>])</span>
 <span class=k>return</span> <span class=n>message</span>

<span class=c># look for ttyUSB in Linux (ls /dev/tty\*)</span>
<span class=c># with serial.Serial(port="/dev/ttyUSB0", baudrate = 9600, timeout=1) as tester:</span>
<span class=c># Use COMx in windows</span>
<span class=c># with serial.Serial(port="COM4", baudrate = 9600, timeout = 10) as tester:</span>

<span class=c># send sync char</span>
 <span class=k>print</span><span class=p>(</span><span class=s>"sending sync char"</span><span class=p>)</span>
 <span class=k>print</span><span class=p>(</span><span class=s>"['0x55']"</span><span class=p>)</span>
 <span class=n>tester</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=nb>bytes</span><span class=p>([</span><span class=mh>0x55</span><span class=p>]))</span>
 <span class=k>print</span><span class=p>(</span><span class=s>"waiting for handshake request..."</span><span class=p>)</span>
 <span class=n>readback</span> <span class=o>=</span> <span class=n>tester</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=mi>6</span><span class=p>)</span>

 <span class=k>print</span><span class=p>([</span><span class=nb>hex</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>readback</span><span class=p>])</span>

 <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>readback</span><span class=p>)</span> <span class=o>==</span> <span class=mi>6</span> <span class=ow>and</span> <span class=n>readback</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
  <span class=k>print</span><span class=p>(</span><span class=s>"handshake request received"</span><span class=p>)</span>
  <span class=c>#send the handshake response</span>
  <span class=n>deviceID</span> <span class=o>=</span> <span class=mi>4108</span> <span class=c>#device id of Geotab app launcher device</span>
  <span class=n>handshakeResponse</span> <span class=o>=</span> <span class=n>createMessage</span><span class=p>(</span><span class=nb>bytes</span><span class=p>([</span><span class=mh>0x81</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=n>deviceID</span><span class=o>%</span><span class=mi>256</span><span class=p>,</span> <span class=p>(</span><span class=n>deviceID</span> <span class=o>&gt;&gt;</span> <span class=mi>8</span><span class=p>)</span><span class=o>%</span><span class=mi>256</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>]))</span>
  <span class=k>print</span><span class=p>(</span><span class=s>"sending handshake response"</span><span class=p>)</span>
  <span class=k>print</span><span class=p>([</span><span class=nb>hex</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>handshakeResponse</span><span class=p>])</span>
  <span class=n>tester</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>handshakeResponse</span><span class=p>)</span>
  <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
  <span class=c># send some status data</span>
  <span class=n>statusDataID</span> <span class=o>=</span> <span class=mi>53</span> <span class=c>#status data id of Outside Temperature</span>
  <span class=n>dataValue</span> <span class=o>=</span> <span class=mi>60</span> <span class=c>#temperature value of 20C (because of offset of -40)</span>

  <span class=n>dataMessage</span> <span class=o>=</span> <span class=n>createMessage</span><span class=p>(</span><span class=nb>bytes</span><span class=p>([</span><span class=mh>0x80</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=n>statusDataID</span><span class=o>%</span><span class=mi>256</span><span class=p>,</span> <span class=p>(</span><span class=n>statusDataID</span> <span class=o>&gt;&gt;</span> <span class=mi>8</span><span class=p>)</span><span class=o>%</span><span class=mi>256</span><span class=p>,</span> <span class=n>dataValue</span><span class=o>%</span><span class=mi>256</span><span class=p>,</span> <span class=p>(</span><span class=n>dataValue</span> <span class=o>&gt;&gt;</span> <span class=mi>8</span><span class=p>)</span><span class=o>%</span><span class=mi>256</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>]))</span>

  <span class=k>print</span><span class=p>(</span><span class=s>"sending status data"</span><span class=p>)</span>
  <span class=k>print</span><span class=p>([</span><span class=nb>hex</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>dataMessage</span><span class=p>])</span>
  <span class=n>tester</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>dataMessage</span><span class=p>)</span>
  <span class=k>print</span><span class=p>(</span><span class=s>"waiting for data ACK..."</span><span class=p>)</span>
  <span class=n>readback</span> <span class=o>=</span> <span class=n>tester</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=mi>6</span><span class=p>)</span>

  <span class=k>print</span><span class=p>([</span><span class=nb>hex</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>readback</span><span class=p>])</span>

  <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>readback</span><span class=p>)</span> <span class=o>==</span> <span class=mi>6</span> <span class=ow>and</span> <span class=n>readback</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span>
   <span class=k>print</span><span class=p>(</span><span class=s>"data ACK received"</span><span class=p>)</span>
 <span class=n>Else</span><span class=p>:</span>
  <span class=k>print</span><span class=p>(</span><span class=s>"invalid response"</span><span class=p>)</span>
</code></pre></div><p>If the script executes successfully against an awake (ideally with Ignition On) GO device, the output should resemble:</p><div class=highlight><pre><code class=language-py data-lang=py><span class=c># sending sync char</span>
<span class=p>[</span><span class=s>'0x55'</span><span class=p>]</span>

<span class=c># waiting for handshake request…</span>
<span class=p>[</span><span class=s>'0x2'</span><span class=p>,</span> <span class=s>'0x1'</span><span class=p>,</span> <span class=s>'0x0'</span><span class=p>,</span> <span class=s>'0x3'</span><span class=p>,</span> <span class=s>'0x8'</span><span class=p>,</span> <span class=s>'0x3'</span><span class=p>]</span>

<span class=c># handshake request received</span>
<span class=c># sending handshake response</span>
<span class=p>[</span><span class=s>'0x2'</span><span class=p>,</span> <span class=s>'0x81'</span><span class=p>,</span> <span class=s>'0x4'</span><span class=p>,</span> <span class=s>'0xc'</span><span class=p>,</span> <span class=s>'0x10'</span><span class=p>,</span> <span class=s>'0x0'</span><span class=p>,</span> <span class=s>'0x0'</span><span class=p>,</span> <span class=s>'0xa3'</span><span class=p>,</span> <span class=s>'0x88'</span><span class=p>,</span> <span class=s>'0x3'</span><span class=p>]</span>

<span class=c># sending status data</span>
<span class=p>[</span><span class=s>'0x2'</span><span class=p>,</span> <span class=s>'0x80'</span><span class=p>,</span> <span class=s>'0x6'</span><span class=p>,</span> <span class=s>'0x35'</span><span class=p>,</span> <span class=s>'0x0'</span><span class=p>,</span> <span class=s>'0x3c'</span><span class=p>,</span> <span class=s>'0x0'</span><span class=p>,</span> <span class=s>'0x0'</span><span class=p>,</span> <span class=s>'0x0'</span><span class=p>,</span> <span class=s>'0xf9'</span><span class=p>,</span> <span class=s>'0x6a'</span><span class=p>,</span> <span class=s>'0x3'</span><span class=p>]</span>

<span class=c># waiting for data ACK…</span>
<span class=p>[</span><span class=s>'0x2'</span><span class=p>,</span> <span class=s>'0x2'</span><span class=p>,</span> <span class=s>'0x0'</span><span class=p>,</span> <span class=s>'0x4'</span><span class=p>,</span> <span class=s>'0xa'</span><span class=p>,</span> <span class=s>'0x3'</span><span class=p>]</span>

<span class=c># data ACK received</span>
</code></pre></div><h2 id=spoof-a-go-device>Spoof a GO device</h2><p>Run this Python script to emulate a GO device while your external device is connected via the RS232 port:</p><div class=highlight><pre><code class=language-py data-lang=py><span class=kn>import</span> <span class=nn>serial</span>
<span class=kn>import</span> <span class=nn>time</span>

<span class=k>def</span> <span class=nf>checksum</span><span class=p>(</span><span class=n>message</span><span class=p>):</span>
 <span class=n>b0</span> <span class=o>=</span> <span class=mi>0</span>
 <span class=n>b1</span> <span class=o>=</span> <span class=mi>0</span>
 <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>message</span><span class=p>)):</span>
  <span class=n>b0</span> <span class=o>+=</span> <span class=nb>int</span><span class=p>(</span><span class=n>message</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
  <span class=n>b1</span> <span class=o>+=</span> <span class=n>b0</span>
 <span class=k>return</span> <span class=nb>bytes</span><span class=p>([</span><span class=n>b0</span><span class=o>%</span><span class=mi>256</span><span class=p>,</span> <span class=n>b1</span><span class=o>%</span><span class=mi>256</span><span class=p>])</span>

<span class=k>def</span> <span class=nf>createMessage</span><span class=p>(</span><span class=n>message</span><span class=p>):</span>
 <span class=n>message</span> <span class=o>=</span> <span class=nb>bytes</span><span class=p>([</span><span class=mh>0x02</span><span class=p>])</span> <span class=o>+</span> <span class=n>message</span>
 <span class=n>check</span> <span class=o>=</span> <span class=n>checksum</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
 <span class=n>message</span> <span class=o>=</span> <span class=n>message</span> <span class=o>+</span> <span class=n>check</span> <span class=o>+</span> <span class=nb>bytes</span><span class=p>([</span><span class=mh>0x03</span><span class=p>])</span>
 <span class=k>return</span> <span class=n>message</span>

<span class=c># look for ttyUSB in Linux (ls /dev/tty\*)</span>
<span class=c># with serial.Serial(port="/dev/ttyUSB1", baudrate = 9600, timeout = 60) as tester:</span>
<span class=c># Use COMx in windows</span>
<span class=c># with serial.Serial(port="COM7", baudrate = 9600, timeout = 60) as tester:</span>

 <span class=c># read sync char</span>
 <span class=k>print</span><span class=p>(</span><span class=s>"waiting for sync char..."</span><span class=p>)</span>
 <span class=n>readback</span> <span class=o>=</span> <span class=n>tester</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>

 <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>readback</span><span class=p>)</span> <span class=ow>and</span> <span class=n>readback</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>==</span> <span class=mh>0x55</span><span class=p>:</span>
  <span class=k>print</span><span class=p>(</span><span class=s>"sync char received"</span><span class=p>)</span>
  <span class=k>print</span><span class=p>([</span><span class=nb>hex</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>readback</span><span class=p>])</span>

  <span class=n>handshakeRequest</span> <span class=o>=</span> <span class=n>createMessage</span><span class=p>(</span><span class=nb>bytes</span><span class=p>([</span><span class=mh>0x1</span><span class=p>,</span> <span class=mi>0</span><span class=p>]))</span>
  <span class=k>print</span><span class=p>(</span><span class=s>"sending handshake request"</span><span class=p>)</span>
  <span class=k>print</span><span class=p>([</span><span class=nb>hex</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>handshakeRequest</span><span class=p>])</span>
  <span class=n>tester</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>handshakeRequest</span><span class=p>)</span>

  <span class=k>print</span><span class=p>(</span><span class=s>"waiting for handshake response..."</span><span class=p>)</span>
  <span class=n>readback</span> <span class=o>=</span> <span class=n>tester</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
  <span class=k>print</span><span class=p>([</span><span class=nb>hex</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>readback</span><span class=p>])</span>

  <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>readback</span><span class=p>)</span> <span class=o>==</span> <span class=mi>10</span> <span class=ow>and</span> <span class=n>readback</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=mh>0x81</span><span class=p>:</span>
   <span class=k>print</span><span class=p>(</span><span class=s>"handshake response received"</span><span class=p>)</span>

   <span class=k>while</span><span class=p>(</span><span class=mi>1</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=s>"waiting for status data..."</span><span class=p>)</span>
    <span class=n>readback</span> <span class=o>=</span> <span class=n>tester</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=mi>12</span><span class=p>)</span>
    <span class=k>print</span><span class=p>([</span><span class=nb>hex</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>readback</span><span class=p>])</span>

    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>readback</span><span class=p>)</span> <span class=o>==</span> <span class=mi>12</span> <span class=ow>and</span> <span class=n>readback</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=mh>0x80</span><span class=p>:</span>
     <span class=k>print</span><span class=p>(</span><span class=s>"status data received"</span><span class=p>)</span>
     <span class=n>statusDataID</span> <span class=o>=</span> <span class=n>readback</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=n>readback</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=mi>8</span><span class=p>)</span>
     <span class=n>dataValue</span> <span class=o>=</span> <span class=n>readback</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=n>readback</span><span class=p>[</span><span class=mi>6</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=mi>8</span><span class=p>)</span>

     <span class=k>print</span><span class=p>(</span><span class=s>"status data id: "</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>statusDataID</span><span class=p>)</span> <span class=o>+</span> <span class=s>", value: "</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>dataValue</span><span class=p>))</span>
     <span class=n>ackMessage</span> <span class=o>=</span> <span class=n>createMessage</span><span class=p>(</span><span class=nb>bytes</span><span class=p>([</span><span class=mh>0x2</span><span class=p>,</span> <span class=mh>0x0</span><span class=p>]))</span>
     <span class=k>print</span><span class=p>(</span><span class=s>"sending ack"</span><span class=p>)</span>
     <span class=k>print</span><span class=p>([</span><span class=nb>hex</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=n>ackMessage</span><span class=p>])</span>
     <span class=n>tester</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>ackMessage</span><span class=p>)</span>
     <span class=k>break</span>
</code></pre></div></div></article></div></div></main></div><script src=/sdk/assets/javascript/index-766ac277eb.min.js></script></body></html>