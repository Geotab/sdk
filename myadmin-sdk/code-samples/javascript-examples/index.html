<!DOCTYPE html><html lang=En><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><script src=https://cmp.osano.com/Azq8VcSSUm67lg5f/3c378e5d-3772-41f7-8106-94eeee3a3c15/osano.js></script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5V5GBX4');</script><title>JavaScript Examples | Geotab Developers</title><meta name=generator content="Jekyll v4.3.2"><meta property=og:title content="JavaScript Examples"><meta name=author content="The Geotab Team"><meta property=og:locale content=en_US><meta name=description content="This site provides tools for integrating with various types of Geotab products."><meta property=og:description content="This site provides tools for integrating with various types of Geotab products."><link rel=canonical href=https://geotab.github.io/sdk/myadmin-sdk/code-samples/javascript-examples/ ><meta property=og:url content=https://geotab.github.io/sdk/myadmin-sdk/code-samples/javascript-examples/ ><meta property=og:site_name content="Geotab Developers"><meta property=og:type content=website><meta name=twitter:card content=summary><meta property=twitter:title content="JavaScript Examples"><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"The Geotab Team"},"description":"This site provides tools for integrating with various types of Geotab products.","headline":"JavaScript Examples","url":"https://geotab.github.io/sdk/myadmin-sdk/code-samples/javascript-examples/"}</script><link rel=stylesheet href=/sdk/assets/stylesheets/style-7593abd5bb.min.css><link rel=stylesheet href=/sdk/assets/stylesheets/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=/sdk/assets/images/touch/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/sdk/favicon.ico></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V5GBX4" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><header><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark" title=navigationBar><a class=navbar-brand href=/sdk/ ><img src=/sdk/assets/images/pillar.svg width=30 height=30 class="d-inline-block align-top" alt=""> Geotab Developers </a><button class="navbar-toggler d-lg-none" id=toggler type=button aria-label="navigation bar toggler"><span class=navbar-toggler-icon></span></button></nav></header><div id=wrapper><div id=sidebar-wrapper class=bg-light><nav id=sidebar class=sidebar><h4>MyGeotab SDK</h4><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/introduction/ >MyGeotab SDK Introduction</a></li><li class=nav-link><a href=/sdk/resources/new/ >What's New</a></li><li><h5>Guides</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/guides/getting-started/ >Getting Started</a></li><li class=nav-link><a href=/sdk/software/guides/concepts/ >Concepts</a></li><li class=nav-link><a href=/sdk/software/guides/using-in-javascript/ >Using in Javascript</a></li><li class=nav-link><a href=/sdk/software/guides/using-in-dotnet/ >Using in .Net</a></li><li class=nav-link><a href=/sdk/software/guides/using-in-java/ >Using in Java</a> <span class=beta>Beta</span></li><li class=nav-link><a href=/sdk/software/guides/data-feed/ >Data Feed</a></li><li class=nav-link><a href=/sdk/software/guides/mygeotab-urls/ >Using MyGeotab URLs</a></li><li class=nav-link><a href=/sdk/software/guides/using-go-devices/ >Using GO Devices</a></li><li class=nav-link><a href=/sdk/software/guides/go-device-logging/ >GO Device Logging</a></li><li class=nav-link><a href=/sdk/software/guides/custom-telematics-devices/ >Using Custom Telematics Devices</a></li><li class=nav-link><a href=/sdk/software/guides/developing-addins/ >Developing Add-Ins</a></li><li class=nav-link><a href=/sdk/software/guides/addin-storage/ >Using Add-Ins for data storage</a></li><li class=nav-link><a href=/sdk/software/guides/drive-addins/ >Geotab Drive Add-Ins</a></li><li class=nav-link><a href=/sdk/software/guides/map-add-ins-docs/ >Map Add-ins</a></li><li class=nav-link><a href=https://github.com/Geotab/mg-media-files>Media Files</a> <span class=beta>Beta</span></li><li class=nav-link><a href=/sdk/software/guides/power-bi/ >Connect to Power BI</a></li></ul></li><li><h5>API</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/api/reference/ >Reference</a></li><li class=nav-link><a href=/sdk/software/api/runner.html>Runner</a></li><li class=nav-link><a href=/sdk/software/api/clients/ >API Clients</a></li></ul></li><li><h5>Code Samples</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/js-samples/ >Javascript Examples</a></li><li class=nav-link><a href=/sdk/software/dotnet-samples/ >.Net Examples</a></li><li class=nav-link><a href=https://github.com/Geotab/sdk-java-samples>Java Examples</a> <span class=beta>Beta</span></li><li class=nav-link><a href=https://github.com/Geotab/sdk-addin-samples>Add-in Examples</a></li></ul></li></ul><hr><h4>Hardware</h4><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/introduction/ >Hardware Introduction</a></li><li><h5>Add-on Protocols</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/addon-protocols/rs232-usb/ >RS232 & USB</a></li><li class=nav-link><a href=/sdk/hardware/addon-protocols/can/ >CAN</a></li><li class=nav-link><a href=/sdk/hardware/addon-protocols/ble/ >BLE</a></li></ul></li><li><h5>Code Samples</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/samples/python/ >Python</a></li><li class=nav-link><a href=https://github.com/Geotab/android-external-device-example>Android</a></li></ul></li><li><h5>Developing an IOX</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/developing-an-iox/hardware-design-guide/ >Hardware Design Guide</a></li><li class=nav-link><a href=/sdk/hardware/developing-an-iox/messaging-protocol/ >Messaging Protocol</a></li></ul></li></ul><hr><h4>MyAdmin SDK</h4><ul class="nav flex-column"><li class=nav-link><a href=/sdk/myadmin-sdk/introduction/ >MyAdmin SDK Introduction</a></li><li class=nav-link><a href=/sdk/myadmin-sdk/new/ >What's New</a></li><li><h5>Guides</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/myadmin-sdk/guides/getting-started/ >Getting Started</a></li><li class=nav-link><a href=/sdk/myadmin-sdk/guides/concepts/ >Concepts</a></li><li class=nav-link><a href=/sdk/myadmin-sdk/guides/using-with-dotnet/ >Using with .NET</a></li><li class=nav-link><a href=/sdk/myadmin-sdk/guides/using-with-javascript/ >Using with JavaScript</a></li><li class=nav-link><a href=/sdk/myadmin-sdk/guides/using-third-party-devices/ >Using Third-Party Devices with MyGeotab</a> <span class=legacy>Legacy</span></li></ul></li><li><h5>API</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/myadmin-sdk/api/reference/ >Reference</a></li></ul></li><li><h5>Code Samples</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/myadmin-sdk/code-samples/dotnet-examples/ >.NET Examples</a></li><li class="nav-link active"><a href=/sdk/myadmin-sdk/code-samples/javascript-examples/ >JavaScript Examples</a></li></ul></li></ul><hr><h4>Resources</h4><ul class="nav flex-column"><li class=nav-link><a href=https://community.geotab.com/s/ >Forums</a></li><li class=nav-link><a href=https://www.geotab.com/dev-channel/ >Dev Channel</a></li><li class=nav-link><a href=/sdk/resources/toolkits/ >Toolkits</a></li></ul><hr></nav></div><main role=main><div class=container-fluid><div class=row><article class=col-md-12><header><a href=https://github.com/Geotab/sdk/blob/master/src/myadmin-sdk/code-samples/javascript-examples.md class="float-right small"><svg class="octicon octicon-mark-github" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg> Edit on GitHub</a> <a href="https://community.geotab.com/s/topic/0TO2J000000gAUAWA2/developer-discussions?language=en_US&viewMore=1" class="float-right small mx-2"><svg class="octicon octicon-people" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M5.5 3.5a2 2 0 100 4 2 2 0 000-4zM2 5.5a3.5 3.5 0 115.898 2.549 5.507 5.507 0 013.034 4.084.75.75 0 11-1.482.235 4.001 4.001 0 00-7.9 0 .75.75 0 01-1.482-.236A5.507 5.507 0 013.102 8.05 3.49 3.49 0 012 5.5zM11 4a.75.75 0 100 1.5 1.5 1.5 0 01.666 2.844.75.75 0 00-.416.672v.352a.75.75 0 00.574.73c1.2.289 2.162 1.2 2.522 2.372a.75.75 0 101.434-.44 5.01 5.01 0 00-2.56-3.012A3 3 0 0011 4z"></path></svg> Ask developers in the Community</a><h1>JavaScript Examples</h1></header><div><p>The example below demonstrates a simple JavaScript application that authenticates with the MyAdmin API, then calls <code class="language-plaintext highlighter-rouge">GetDevicePlans</code> and <code class="language-plaintext highlighter-rouge">LookupDevice</code>.</p><div class="language-html highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nt>&lt;html&gt;</span>
  <span class=nt>&lt;body&gt;</span>
    <span class=nt>&lt;h1&gt;</span>Device Plans<span class=nt>&lt;/h1&gt;</span>
    <span class=nt>&lt;ul</span> <span class=na>id=</span><span class=s>"devicePlanList"</span><span class=nt>&gt;</span>
    <span class=nt>&lt;/ul&gt;</span>
    <span class=nt>&lt;h1&gt;</span>Device Details<span class=nt>&lt;/h1&gt;</span>
    <span class=nt>&lt;div&gt;</span>
      <span class=nt>&lt;div</span> <span class=na>id=</span><span class=s>"firmwareElement"</span><span class=nt>&gt;&lt;/div&gt;</span>
      <span class=nt>&lt;div</span> <span class=na>id=</span><span class=s>"commentsElement"</span><span class=nt>&gt;&lt;/div&gt;</span>
      <span class=nt>&lt;div</span> <span class=na>id=</span><span class=s>"lastCommElement"</span><span class=nt>&gt;&lt;/div&gt;</span>
      <span class=nt>&lt;div</span> <span class=na>id=</span><span class=s>"possibleIssuesElement"</span><span class=nt>&gt;&lt;/div&gt;</span>
    <span class=nt>&lt;/div&gt;</span>
    <span class=nt>&lt;script </span><span class=na>type=</span><span class=s>"text/javascript"</span> <span class=na>src=</span><span class=s>"myAdminApi.js"</span><span class=nt>&gt;&lt;/script&gt;</span>


    <span class=nt>&lt;script </span><span class=na>type=</span><span class=s>"text/javascript"</span><span class=nt>&gt;</span>
      <span class=kd>var</span> <span class=nx>apiKey</span><span class=p>,</span>
        <span class=nx>sessionId</span><span class=p>,</span>
        <span class=nx>logonParams</span> <span class=o>=</span> <span class=p>{</span>
          <span class=na>username</span><span class=p>:</span> <span class=dl>'</span><span class=s1>user@geotab.com</span><span class=dl>'</span><span class=p>,</span>
          <span class=na>password</span><span class=p>:</span> <span class=dl>'</span><span class=s1>&lt;password&gt;</span><span class=dl>'</span>
      <span class=p>};</span>


      <span class=nf>myAdminApi</span><span class=p>().</span><span class=nf>call</span><span class=p>(</span><span class=dl>'</span><span class=s1>Authenticate</span><span class=dl>'</span><span class=p>,</span> <span class=nx>logonParams</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>user</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>apiKey</span> <span class=o>=</span> <span class=nx>user</span><span class=p>.</span><span class=nx>userId</span><span class=p>;</span>
        <span class=nx>sessionId</span> <span class=o>=</span> <span class=nx>user</span><span class=p>.</span><span class=nx>sessionId</span><span class=p>;</span>
        <span class=kd>var</span> <span class=nx>deviceIdx</span><span class=p>,</span>
            <span class=nx>listHtml</span> <span class=o>=</span> <span class=dl>''</span><span class=p>,</span>
            <span class=nx>devicePlanList</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nf>getElementById</span><span class=p>(</span><span class=dl>'</span><span class=s1>devicePlanList</span><span class=dl>'</span><span class=p>),</span>
            <span class=nx>devicePlanParams</span> <span class=o>=</span> <span class=p>{</span>
              <span class=na>apiKey</span><span class=p>:</span> <span class=nx>apiKey</span><span class=p>,</span>
              <span class=na>sessionId</span><span class=p>:</span> <span class=nx>sessionId</span>
            <span class=p>},</span>


            <span class=nx>lookupDeviceParams</span> <span class=o>=</span> <span class=p>{</span>
              <span class=na>apiKey</span><span class=p>:</span> <span class=nx>apiKey</span><span class=p>,</span>
              <span class=na>sessionId</span><span class=p>:</span> <span class=nx>sessionId</span><span class=p>,</span>
              <span class=na>serialNo</span><span class=p>:</span> <span class=dl>'</span><span class=s1>G6XXX0XXXD08</span><span class=dl>'</span>
            <span class=p>};</span>


        <span class=nf>myAdminApi</span><span class=p>().</span><span class=nf>call</span><span class=p>(</span><span class=dl>'</span><span class=s1>GetDevicePlans</span><span class=dl>'</span><span class=p>,</span> <span class=nx>devicePlanParams</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>devicePlans</span><span class=p>)</span> <span class=p>{</span>
          <span class=nf>for </span><span class=p>(</span><span class=nx>deviceIdx</span> <span class=k>in</span> <span class=nx>devicePlans</span><span class=p>)</span> <span class=p>{</span>
            <span class=nx>listHtml</span> <span class=o>+=</span> <span class=dl>'</span><span class=s1>&lt;li&gt;</span><span class=dl>'</span> <span class=o>+</span> <span class=nx>devicePlans</span><span class=p>[</span><span class=nx>deviceIdx</span><span class=p>].</span><span class=nx>name</span> <span class=o>+</span> <span class=dl>'</span><span class=s1>&lt;/li&gt;</span><span class=dl>'</span><span class=p>;</span>
          <span class=p>}</span>
          <span class=nx>devicePlanList</span><span class=p>.</span><span class=nx>innerHTML</span> <span class=o>=</span> <span class=nx>listHtml</span><span class=p>;</span>
          <span class=nf>myAdminApi</span><span class=p>().</span><span class=nf>call</span><span class=p>(</span><span class=dl>'</span><span class=s1>LookupDevice</span><span class=dl>'</span><span class=p>,</span> <span class=nx>lookupDeviceParams</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>device</span><span class=p>)</span> <span class=p>{</span>


            <span class=nb>document</span><span class=p>.</span><span class=nf>getElementById</span><span class=p>(</span><span class=dl>'</span><span class=s1>firmwareElement</span><span class=dl>'</span><span class=p>).</span><span class=nx>innerText</span> <span class=o>=</span> <span class=dl>"</span><span class=s2>Firmware: </span><span class=dl>"</span> <span class=o>+</span> <span class=nx>device</span><span class=p>.</span><span class=nx>firmwareVersion</span><span class=p>;</span>
            <span class=nb>document</span><span class=p>.</span><span class=nf>getElementById</span><span class=p>(</span><span class=dl>'</span><span class=s1>commentsElement</span><span class=dl>'</span><span class=p>).</span><span class=nx>innerText</span> <span class=o>=</span> <span class=dl>"</span><span class=s2>Comments: </span><span class=dl>"</span> <span class=o>+</span> <span class=nx>device</span><span class=p>.</span><span class=nx>comments</span><span class=p>;</span>
            <span class=nb>document</span><span class=p>.</span><span class=nf>getElementById</span><span class=p>(</span><span class=dl>'</span><span class=s1>lastCommElement</span><span class=dl>'</span><span class=p>).</span><span class=nx>innerText</span> <span class=o>=</span> <span class=dl>"</span><span class=s2>Last Communication: </span><span class=dl>"</span> <span class=o>+</span> <span class=nx>device</span><span class=p>.</span><span class=nx>lastServerCommunication</span><span class=p>;</span>
            <span class=nb>document</span><span class=p>.</span><span class=nf>getElementById</span><span class=p>(</span><span class=dl>'</span><span class=s1>possibleIssuesElement</span><span class=dl>'</span><span class=p>).</span><span class=nx>innerText</span> <span class=o>=</span> <span class=dl>"</span><span class=s2>Possible Issues: </span><span class=dl>"</span> <span class=o>+</span> <span class=nx>device</span><span class=p>.</span><span class=nx>possibleIssues</span><span class=p>;</span>
          <span class=p>});</span>
        <span class=p>});</span>
      <span class=p>},</span> <span class=kd>function</span><span class=p>(</span><span class=nx>errorMessage</span><span class=p>,</span> <span class=nx>error</span><span class=p>){</span>
        <span class=kd>var</span> <span class=nx>errorIdx</span><span class=p>,</span> <span class=nx>alertMsg</span> <span class=o>=</span> <span class=dl>'</span><span class=s1>Error Message: </span><span class=dl>'</span> <span class=o>+</span> <span class=nx>errorMessage</span><span class=p>;</span>
        <span class=nf>if </span><span class=p>(</span><span class=nx>error</span> <span class=o>&amp;&amp;</span> <span class=nx>error</span><span class=p>.</span><span class=nx>errors</span><span class=p>)</span> <span class=p>{</span>
          <span class=nx>alertMsg</span> <span class=o>+=</span> <span class=dl>'</span><span class=se>\n\n</span><span class=s1>The following errors occurred:</span><span class=se>\n</span><span class=dl>'</span><span class=p>;</span>
          <span class=nf>for </span><span class=p>(</span><span class=nx>errorIdx</span> <span class=k>in</span> <span class=nx>error</span><span class=p>.</span><span class=nx>errors</span><span class=p>)</span> <span class=p>{</span>
            <span class=nx>alertMsg</span> <span class=o>+=</span> <span class=nx>error</span><span class=p>.</span><span class=nx>errors</span><span class=p>[</span><span class=nx>errorIdx</span><span class=p>].</span><span class=nx>name</span> <span class=o>+</span> <span class=dl>'</span><span class=se>\n</span><span class=dl>'</span><span class=p>;</span>
          <span class=p>}</span>
        <span class=p>}</span>
        <span class=nf>alert</span><span class=p>(</span><span class=nx>alertMsg</span><span class=p>);</span>
      <span class=p>});</span>


    <span class=nt>&lt;/script&gt;</span>
  <span class=nt>&lt;/body&gt;</span>
<span class=nt>&lt;/html&gt;</span>
</code></pre></div></div><p>The <code class="language-plaintext highlighter-rouge">call</code> method uses the following parameters:</p><ul><li>Method name;</li><li>Parameters;</li><li>Success callback; and</li><li>Error callback (optional).</li></ul><p><strong>Note</strong>: The Success callback receives the object returned by the API as a parameter. The <a href=../../api/reference>Reference</a> page provides details about the objects returned by each method. In the example above, the error callback is called if the login fails. The error callback receives two parameters: an error message and an “errors” object that contains an array of individual errors that occurred. In the example above, the devicePlans object — returned by GetDevicePlans — is an array of ApiDevicePlans. The device object, returned by LookupDevice, is an ApiDeviceInstallResult. For more information, see <a href=../../api/reference>Reference</a>. <img src=../myadminApiExample.png alt="MyAdmin Api Example"></p></div></article></div></div><footer class="footer mt-auto py-3"><a href=https://www.geotab.com/security/ target=_blank>Security</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a href=https://docs.google.com/document/d/1sVygLN02w2xNovFY4q5vw-oAzfYxCd7WLhyToElgDbs/pub rel=noopener target=_blank>Privacy Policy</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a href=/myadmin-sdk/introduction/ >MyAdmin SDK</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a href=https://docs.google.com/document/d/1jA8Qc8WZMhmaqdjd8Ng8rY4iMI073xCfLNt_DSP72TQ/edit rel=noopener target=_blank>End User Agreement</a><div class="copyright-container copyright-white-text">Copyright &copy; 2017 Geotab</div></footer></main></div><script src=/sdk/assets/javascript/index.js></script></body></html>