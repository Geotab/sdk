<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Drive Add-Ins | MyGeotab SDK</title><meta name=generator content="Jekyll v4.0.1"><meta property=og:title content="Drive Add-Ins"><meta name=author content="The Geotab Team"><meta property=og:locale content=en_US><meta name=description content="The Geotab SDK (Software Development Kit) is a powerful set of tools for automating tasks and working with the data in MyGeotab. Within these documents you will find information on how to develop JavaScript and C# applications, build and integrate Add-Ins and use MyGeotab with third-party systems."><meta property=og:description content="The Geotab SDK (Software Development Kit) is a powerful set of tools for automating tasks and working with the data in MyGeotab. Within these documents you will find information on how to develop JavaScript and C# applications, build and integrate Add-Ins and use MyGeotab with third-party systems."><link rel=canonical href=https://geotab.github.io/sdk/software/guides/drive-addins/ ><meta property=og:url content=https://geotab.github.io/sdk/software/guides/drive-addins/ ><meta property=og:site_name content="MyGeotab SDK"><script type=application/ld+json>{"description":"The Geotab SDK (Software Development Kit) is a powerful set of tools for automating tasks and working with the data in MyGeotab. Within these documents you will find information on how to develop JavaScript and C# applications, build and integrate Add-Ins and use MyGeotab with third-party systems.","author":{"@type":"Person","name":"The Geotab Team"},"@type":"WebPage","url":"https://geotab.github.io/sdk/software/guides/drive-addins/","headline":"Drive Add-Ins","@context":"https://schema.org"}</script><link rel=stylesheet href=/sdk/assets/stylesheets/style-74ff4f5d6e.min.css><link rel=stylesheet href=/sdk/assets/stylesheets/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=/sdk/assets/images/touch/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/sdk/favicon.ico></head><body><header><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"><a class=navbar-brand href=/sdk/ ><img src=/sdk/assets/images/pillar.svg width=30 height=30 class="d-inline-block align-top" alt=""> MyGeotab SDK </a><button class="navbar-toggler d-lg-none" id=toggler type=button><span class=navbar-toggler-icon></span></button></nav></header><div id=wrapper><div id=sidebar-wrapper class=bg-light><nav id=sidebar class=sidebar><h4>Software</h4><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/introduction/ >Introduction</a></li><li class=nav-link><a href=/sdk/resources/new/ >What's New</a></li><h5>Guides</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/guides/getting-started/ >Getting Started</a></li><li class=nav-link><a href=/sdk/software/guides/concepts/ >Concepts</a></li><li class=nav-link><a href=/sdk/software/guides/using-in-javascript/ >Using in Javascript</a></li><li class=nav-link><a href=/sdk/software/guides/using-in-dotnet/ >Using in .Net</a></li><li class=nav-link><a href=/sdk/software/guides/data-feed>Data Feed</a></li><li class=nav-link><a href=/sdk/software/guides/mygeotab-urls/ >Using MyGeotab URLs</a></li><li class=nav-link><a href=/sdk/software/guides/using-go-devices/ >Using GO Devices</a></li><li class=nav-link><a href=/sdk/software/guides/go-device-logging/ >GO Device Logging</a></li><li class=nav-link><a href=/sdk/software/guides/third-party-devices/ >Using Third-Party Devices</a></li><li class=nav-link><a href=/sdk/software/guides/developing-addins/ >Developing Add-Ins</a></li><li class="nav-link active"><a href=/sdk/software/guides/drive-addins/ >Geotab Drive Add-Ins</a></li><li class=nav-link><a href=/sdk/software/guides/map-add-ins-docs/ >Map Add-ins</a> <span class=beta>Beta</span></li></ul><h5>API</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/api/reference/ >Reference</a></li><li class=nav-link><a href=/sdk/software/api/runner.html>Runner</a></li><li class=nav-link><a href=/sdk/software/api/clients/ >API Clients</a></li></ul><h5>Code Samples</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/software/js-samples/ >Javascript Examples</a></li><li class=nav-link><a href=https://github.com/Geotab/sdk-dotnet-samples>.Net Examples</a></li><li class=nav-link><a href=https://github.com/Geotab/sdk-addin-samples>Add-in Examples</a></li></ul></ul><h4>Hardware</h4><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/introduction/ >Introduction</a></li><li class=nav-link><a href=/sdk/hardware/hardware-add-on-data-types/ >Hardware Add-On data types</a></li><h5>Add-on Protocols</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/addon-protocols/rs232-usb/ >RS232 & USB</a></li><li class=nav-link><a href=/sdk/hardware/addon-protocols/can/ >CAN</a></li><li class=nav-link><a href=/sdk/hardware/addon-protocols/ble/ >BLE</a></li></ul><h5>Code Samples</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/samples/python/ >Python</a></li><li class=nav-link><a href=https://github.com/Geotab/android-external-device-example>Android</a></li></ul><h5>Developing an IOX</h5><ul class="nav flex-column"><li class=nav-link><a href=/sdk/hardware/developing-an-iox/hardware-design-guide/ >Hardware Design Guide</a></li><li class=nav-link><a href=/sdk/hardware/developing-an-iox/messaging-protocol/ >Messaging Protocol</a></li></ul></ul><h4>Resources</h4><ul class="nav flex-column"><li class=nav-link><a href=https://community.geotab.com/s/ >Forums</a></li><li class=nav-link><a href=https://www.geotab.com/dev-channel/ >Dev Channel</a></li></ul></nav></div><main role=main><div class=container-fluid><div class=row><article class=col-md-12><header><a href=https://github.com/Geotab/sdk/blob/master/src/software/guides/drive-addins.md class="float-right small"><svg class="octicon octicon-mark-github octicon octicon-mark-github octicon octicon-mark-github octicon octicon-mark-github octicon octicon-mark-github octicon octicon-mark-github octicon octicon-mark-github" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg> Edit on GitHub</a><h1>Drive Add-Ins</h1></header><div><blockquote><p>Geotab Drive Add-Ins are in preview release and subject to change_</p></blockquote><h2 id=overview>Overview</h2><p>The MyGeotab Add-In structure can be applied to the Geotab Drive application as well, providing you the ability to extend the functionality for drivers in an environment with sensors (e.g. geolocation and acceleration) and actuators (e.g. voice alerts and notifications). This environment must also be completely operable in an offline state — so your Add-In must be able to handle having no internet connection, or sleeping in the background of the mobile device.</p><p>Please read the <a href=../developing-addins>Developing Add-Ins</a> guide first before attempting a Geotab Drive Add-In.</p><p>All Add-Ins that have been designed to work with MyGeotab will work on the Geotab Drive app as well. Your Add-In will be completely downloaded for all referenced links, images, and scripts upon user login. This way, as the user is authenticated over the internet — they will have your Add-In with them as they travel or disconnect from the network. If your Add-In requires dynamic loading of CSS, images, or JavaScript — these requests will fail if the user does not have a network connection. As such you should either: include all dependencies on creation of the Add-In, explicitly link to them, or provide a fallback if <strong>state.online</strong> returns False. Geotab Drive Add-Ins will also display differently, on both the dashboard and the menu.</p><p><img src=/sdk/software/guides/drive-addins_0.png alt=""></p><p>To make an Add-In on the Geotab Drive app, the <strong>item</strong> in your configuration file must have a <strong>path</strong> that equals “ <strong>DriveAppLink/</strong>” (including a trailing forward slash). The menuName, url, and version will remain unchanged. For example:</p><h3 id=listing-1--geotab-drive-item-configuration>Listing 1 — Geotab Drive “item” configuration</h3><div class="language-json highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nl>"items"</span><span class=p>:</span><span class=w> </span><span class=p>[{</span><span class=w>
 </span><span class=nl>"version"</span><span class=p>:</span><span class=w> </span><span class=s2>"1.0"</span><span class=p>,</span><span class=w>
 </span><span class=nl>"url"</span><span class=p>:</span><span class=w> </span><span class=s2>"addinFile.html"</span><span class=p>,</span><span class=w>
 </span><span class=nl>"path"</span><span class=p>:</span><span class=w> </span><span class=s2>"DriveAppLink/"</span><span class=p>,</span><span class=w>
 </span><span class=nl>"menuName"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
  </span><span class=nl>"en"</span><span class=p>:</span><span class=w> </span><span class=s2>"English Label"</span><span class=p>,</span><span class=w>
  </span><span class=nl>"fr"</span><span class=p>:</span><span class=w> </span><span class=s2>"French Label"</span><span class=w>
 </span><span class=p>}</span><span class=w>
</span><span class=p>}]</span><span class=w>
</span></code></pre></div></div><blockquote><p>The array of <strong>items</strong> also allows you to have one link item in MyGeotab, and another link item to Geotab Drive</p></blockquote><h2 id=api-and-state-documentation>API and State Documentation</h2><p>Inside the Geotab Drive app, we provide the same <em>api</em> and <em>state</em> properties for your initialize method that we do for our normal Add-Ins. In addition to this, we provide you with properties and methods to allow access to mobile device sensors/actuators. See Table 1 below for a list of the properties and methods provided.</p><h3 id=table-1--geotab-drive-additional-properties-and-methods>Table 1 — Geotab Drive additional properties and methods</h3><table><thead><tr><th> </th><th><strong>Description</strong></th><th><strong>Parameters</strong></th><th><strong>Return Type</strong></th></tr></thead><tbody><tr><td>api.mobile.exists()</td><td>Returns <code class=highlighter-rouge>true</code> if Geotab Drive is running within a native application, and <code class=highlighter-rouge>false</code> if just as a HTML5 web application</td><td>None</td><td>Boolean</td></tr><tr><td>api.mobile.getVersion()</td><td>If <code class=highlighter-rouge>api.mobile.exists()</code>, gets the Geotab Drive version from the native application</td><td>None</td><td>String</td></tr><tr><td>api.mobile.speak()</td><td>If <code class=highlighter-rouge>api.mobile.exists()</code>, uses the text to speech functionality on the mobile device</td><td>String</td><td>Void</td></tr><tr><td>api.mobile.notify()</td><td>If <code class=highlighter-rouge>api.mobile.exists()</code>, will add a notification to the top bar of a native operating system Example: <code class=highlighter-rouge>api.mobile.notify("Fill up your vehicle", "Low on gas")</code></td><td>String[Message], String[Title], String[Id], [String[JsonData]], [Boolean[Permanent]]</td><td>Void</td></tr><tr><td>api.mobile.geolocation</td><td>A navigator object that is similar to HTML5 <code class=highlighter-rouge>navigator.geolocation</code> Example: <code class=highlighter-rouge>api.mobile.geolocation.getCurrentPosition(function (position) { }, function (error) { }, { enableHighAccuracy: true })</code></td><td>None</td><td>None</td></tr><tr><td>state.device</td><td>Get the current vehicle that is being connected to the mobile device</td><td>None</td><td>String</td></tr><tr><td>state.driving</td><td>Mobile device is detected as driving with the current vehicle</td><td>None</td><td>Boolean</td></tr><tr><td>state.charging</td><td>Mobile device is being powered</td><td>None</td><td>Boolean</td></tr><tr><td>state.background</td><td>Geotab Drive application is running in the background</td><td>None</td><td>Boolean</td></tr><tr><td>state.online</td><td>Mobile device has internet access</td><td>None</td><td>Boolean</td></tr><tr><td>state.deviceCommunicating</td><td>Telematics device is communicating to the server</td><td>None</td><td>Boolean</td></tr><tr><td>state.gpsConnected</td><td>Mobile device has GPS enabled</td><td>None</td><td>Boolean</td></tr></tbody></table><h2 id=opening-third-party-applications-using-uri-schema>Opening third-party applications using URI schema</h2><blockquote><p>Drive app v4.1.0+</p></blockquote><p>It’s possible to open different applications like prontoforms or native calendar from add-ins. To do so, it’s important to construct correct URI schema string and pass it to `window.open. For example:</p><div class="language-javascript highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nb>window</span><span class=p>.</span><span class=nx>open</span><span class=p>(</span><span class=nx>uriSchemaString</span><span class=p>,</span> <span class=dl>"</span><span class=s2>_system</span><span class=dl>"</span><span class=p>)</span>
</code></pre></div></div><p>Make sure to read carefully documentation of the app you’re trying to open to use correct schema. For example, to open twitter application from addin you should use:</p><div class="language-javascript highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nb>window</span><span class=p>.</span><span class=nx>open</span><span class=p>(</span><span class=dl>"</span><span class=s2>twitter://messages</span><span class=dl>"</span><span class=p>,</span> <span class=dl>"</span><span class=s2>_system</span><span class=dl>"</span><span class=p>)</span>
</code></pre></div></div><p>You can’t use just <code class=highlighter-rouge>twitter://</code> as it’s not correct and app won’t open. You need to specify which page you want to open: <code class=highlighter-rouge>messages</code>, <code class=highlighter-rouge>account</code> etc.</p><p>To open webpage you need to use the same method, but with this notation:</p><div class="language-javascript highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nb>window</span><span class=p>.</span><span class=nx>open</span><span class=p>(</span><span class=dl>"</span><span class=s2>https://google.com</span><span class=dl>"</span><span class=p>,</span> <span class=dl>"</span><span class=s2>_blank</span><span class=dl>"</span><span class=p>)</span>
</code></pre></div></div><blockquote><p><code class=highlighter-rouge>_blank</code> is important, especially for iOS devices</p></blockquote></div></article></div></div><footer class="footer mt-auto py-3"><a href=https://www.geotab.com/security/ target=_blank>Security</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a href=https://docs.google.com/document/d/1sVygLN02w2xNovFY4q5vw-oAzfYxCd7WLhyToElgDbs/pub rel=noopener target=_blank>Privacy Policy</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a href=https://myadmin.geotab.com/sdk rel=noopener target=_blank>MyAdmin SDK</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a href=https://docs.google.com/document/d/1jA8Qc8WZMhmaqdjd8Ng8rY4iMI073xCfLNt_DSP72TQ/edit rel=noopener target=_blank>End User Agreement</a><div class="copyright-container copyright-white-text">Copyright &copy; 2017 Geotab</div></footer></main></div><script src=/sdk/assets/javascript/index.js></script></body></html>